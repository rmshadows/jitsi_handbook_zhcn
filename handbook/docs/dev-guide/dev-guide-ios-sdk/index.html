<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-dev-guide/dev-guide-ios-sdk" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">iOS SDK | Jitsi Meet</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://civiccccc.ltd/handbook/img/undraw_online.svg"><meta data-rh="true" name="twitter:image" content="https://civiccccc.ltd/handbook/img/undraw_online.svg"><meta data-rh="true" property="og:url" content="https://civiccccc.ltd/handbook/docs/dev-guide/dev-guide-ios-sdk"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="iOS SDK | Jitsi Meet"><meta data-rh="true" name="description" content="Jitsi Meet iOS SDK 提供与 Jitsi Meet 应用相同的用户体验，并以可定制的方式嵌入到您的应用中。"><meta data-rh="true" property="og:description" content="Jitsi Meet iOS SDK 提供与 Jitsi Meet 应用相同的用户体验，并以可定制的方式嵌入到您的应用中。"><link data-rh="true" rel="icon" href="/handbook/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://civiccccc.ltd/handbook/docs/dev-guide/dev-guide-ios-sdk"><link data-rh="true" rel="alternate" href="https://civiccccc.ltd/handbook/docs/dev-guide/dev-guide-ios-sdk" hreflang="en"><link data-rh="true" rel="alternate" href="https://civiccccc.ltd/handbook/docs/dev-guide/dev-guide-ios-sdk" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://K2ODL876OV-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Jitsi Meet" href="/handbook/opensearch.xml"><link rel="stylesheet" href="/handbook/assets/css/styles.33cde50c.css">
<script src="/handbook/assets/js/runtime~main.ed123826.js" defer="defer"></script>
<script src="/handbook/assets/js/main.b06072b5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/handbook/"><div class="navbar__logo"><img src="/handbook/img/logo.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/handbook/img/logo.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Jitsi Meet Handbook</b></a><a class="navbar__item navbar__link" href="/handbook/docs/intro">Docs - 文档</a><a class="navbar__item navbar__link" href="/handbook/docs/category/sdks">SDKs</a><a class="navbar__item navbar__link" href="/handbook/docs/releases">Releases - 发布</a><a href="https://community.jitsi.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community - 社区<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://jaas.8x8.vc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">JaaS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jitsi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/handbook/docs/intro">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/handbook/docs/community/community-intro">Community</a><button aria-label="Expand sidebar category &#x27;Community&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/handbook/docs/category/user-guide">User Guide</a><button aria-label="Expand sidebar category &#x27;User Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/handbook/docs/category/developer-guide">Developer Guide</a><button aria-label="Collapse sidebar category &#x27;Developer Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-contributing">Contributing Guidelines - 贡献指南</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/handbook/docs/category/sdks">SDKs</a><button aria-label="Collapse sidebar category &#x27;SDKs&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-iframe">IFrame API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-ljm-api">lib-jitsi-meet API (low level) - lib-jitsi-meet API（低级 API）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-electron-sdk">Electron SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-react-sdk">React SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-android-sdk">Android SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-ios-sdk">iOS SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-react-native-sdk">React Native SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-flutter-sdk">Flutter SDK</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/handbook/docs/category/web">Web</a><button aria-label="Expand sidebar category &#x27;Web&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/handbook/docs/category/mobile">Mobile</a><button aria-label="Collapse sidebar category &#x27;Mobile&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-mobile-jitsi-meet">Jitsi Meet development - Jitsi Meet开发</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/mobile-feature-flags">Feature flags - 功能标志</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-android-sdk">Android SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-ios-sdk">iOS SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-react-native-sdk">React Native SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-flutter-sdk">Flutter SDK</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/handbook/docs/dev-guide/dev-guide-configuration">Configuration - 配置</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/handbook/docs/devops-guide/">Self-Hosting Guide</a><button aria-label="Expand sidebar category &#x27;Self-Hosting Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/handbook/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/handbook/docs/category/developer-guide"><span itemprop="name">Developer Guide</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/handbook/docs/category/sdks"><span itemprop="name">SDKs</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">iOS SDK</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>iOS SDK</h1></header><p>Jitsi Meet iOS SDK 提供与 Jitsi Meet 应用相同的用户体验，并以可定制的方式嵌入到您的应用中。</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>需要 iOS 15.1 或更高版本。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用-sdk-的示例应用程序">使用 SDK 的示例应用程序<a href="#使用-sdk-的示例应用程序" class="hash-link" aria-label="Direct link to 使用 SDK 的示例应用程序" title="Direct link to 使用 SDK 的示例应用程序">​</a></h2>
<p>如果您想了解将 Jitsi Meet SDK 集成到原生应用程序中的简单性，可以查看 <a href="https://github.com/jitsi/jitsi-meet-sdk-samples#ios" target="_blank" rel="noopener noreferrer">示例应用程序库</a>。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="用法">用法<a href="#用法" class="hash-link" aria-label="Direct link to 用法" title="Direct link to 用法">​</a></h2>
<p>将 SDK 集成到项目中有两种方法：</p>
<ul>
<li>使用 CocoaPods</li>
<li>自行构建</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-cocoapods">使用 CocoaPods<a href="#使用-cocoapods" class="hash-link" aria-label="Direct link to 使用 CocoaPods" title="Direct link to 使用 CocoaPods">​</a></h3>
<p>推荐使用 CocoaPods 来使用 SDK。为此，请将 <code>JitsiMeetSDK</code> 依赖项添加到现有的 <code>Podfile</code> 中，或按照以下示例创建一个新的：</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">platform :ios, &#x27;15.1&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">workspace &#x27;JitsiMeetSDKTest.xcworkspace&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">target &#x27;JitsiMeetSDKTest&#x27; do</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  project &#x27;JitsiMeetSDKTest.xcodeproj&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  pod &#x27;JitsiMeetSDK&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>将 <code>JitsiMeetSDKTest</code> 替换为您的项目和目标名称。</p>
<p>由于 SDK 请求摄像头和麦克风访问权限，请确保在 <code>Info.plist</code> 文件中包含所需的 <code>NSCameraUsageDescription</code> 和 <code>NSMicrophoneUsageDescription</code> 条目。</p>
<p>为了确保应用在后台正常工作，请选择“音频”和“VoIP”后台模式。</p>
<p>最后，由于 SDK 会根据会议状态显示和隐藏状态栏，您可能需要在 <code>Info.plist</code> 文件中将 <code>UIViewControllerBasedStatusBarAppearance</code> 设置为 <code>NO</code>。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="自行构建">自行构建<a href="#自行构建" class="hash-link" aria-label="Direct link to 自行构建" title="Direct link to 自行构建">​</a></h3>
<ol>
<li>
<p>安装所有所需的 <a href="https://jitsi.github.io/handbook/docs/dev-guide/dev-guide-mobile-jitsi-meet" target="_blank" rel="noopener noreferrer">依赖项</a>。</p>
</li>
<li>
<p>构建它：</p>
</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-p</span><span class="token plain"> ios/sdk/out</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">xcodebuild clean </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-workspace</span><span class="token plain"> ios/jitsi-meet.xcworkspace </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-scheme</span><span class="token plain"> JitsiMeetSDK</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">xcodebuild archive </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-workspace</span><span class="token plain"> ios/jitsi-meet.xcworkspace </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-scheme</span><span class="token plain"> JitsiMeetSDK  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-configuration</span><span class="token plain"> Release </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-sdk</span><span class="token plain"> iphonesimulator </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-destination</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;generic/platform=iOS Simulator&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-archivePath</span><span class="token plain"> ios/sdk/out/ios-simulator </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">SKIP_INSTALL</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">NO </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">BUILD_LIBRARY_FOR_DISTRIBUTION</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">YES</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">xcodebuild archive </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-workspace</span><span class="token plain"> ios/jitsi-meet.xcworkspace </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-scheme</span><span class="token plain"> JitsiMeetSDK  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-configuration</span><span class="token plain"> Release </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-sdk</span><span class="token plain"> iphoneos </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-destination</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;generic/platform=iOS&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-archivePath</span><span class="token plain"> ios/sdk/out/ios-device </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">SKIP_INSTALL</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">NO </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">BUILD_LIBRARY_FOR_DISTRIBUTION</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">YES</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">xcodebuild -create-xcframework </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-framework</span><span class="token plain"> ios/sdk/out/ios-device.xcarchive/Products/Library/Frameworks/JitsiMeetSDK.framework </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-framework</span><span class="token plain"> ios/sdk/out/ios-simulator.xcarchive/Products/Library/Frameworks/JitsiMeetSDK.framework </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(191, 199, 213)">-output</span><span class="token plain"> ios/sdk/out/JitsiMeetSDK.xcframework</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>成功构建 Jitsi Meet SDK for iOS 后，生成的 XCFramework 将位于 <code>ios/sdk/out</code> 目录中。</p>
<p>注意：您的应用将需要依赖于 JitsiWebRTC CocoaPod。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api">API<a href="#api" class="hash-link" aria-label="Direct link to API" title="Direct link to API">​</a></h2>
<p>JitsiMeet 是一个 iOS 框架，它体现了完整的 Jitsi Meet 体验，并使第三方应用可以重用。</p>
<p>要开始：</p>
<ol>
<li>
<p>使用故事板或界面构建器向您的应用添加 <code>JitsiMeetView</code>，例如。</p>
</li>
<li>
<p>然后，在视图加载后，在您的控制器中设置代理并加载所需的 URL：</p>
</li>
</ol>
<div class="language-objc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objc codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">viewDidLoad </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token keyword" style="font-style:italic">super</span><span class="token plain"> viewDidLoad</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  JitsiMeetView </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">jitsiMeetView </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">JitsiMeetView </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">view</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  jitsiMeetView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">delegate </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  JitsiMeetConferenceOptions </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">options </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">JitsiMeetConferenceOptions fromBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">JitsiMeetConferenceOptionsBuilder </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">serverURL </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">NSURL URLWithString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;https://meet.jit.si&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">room </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;test123&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">audioOnly </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> YES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">jitsiMeetView join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jitsimeetview-类">JitsiMeetView 类<a href="#jitsimeetview-类" class="hash-link" aria-label="Direct link to JitsiMeetView 类" title="Direct link to JitsiMeetView 类">​</a></h3>
<p><code>JitsiMeetView</code> 类是 SDK 的入口点。它是 <code>UIView</code> 的子类，在指定区域中渲染完整的会议。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="delegate">delegate<a href="#delegate" class="hash-link" aria-label="Direct link to delegate" title="Direct link to delegate">​</a></h4>
<p>获取/设置 <code>JitsiMeetViewDelegate</code> 的属性。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="join">join<!-- -->:JitsiMeetConferenceOptions<a href="#join" class="hash-link" aria-label="Direct link to join" title="Direct link to join">​</a></h4>
<p>根据给定选项加入会议。</p>
<div class="language-objc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objc codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  JitsiMeetConferenceOptions </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">options </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">JitsiMeetConferenceOptions fromBuilder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">JitsiMeetConferenceOptionsBuilder </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">serverURL </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">NSURL URLWithString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;https://meet.jit.si&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">room </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;test123&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">audioOnly </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> NO</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">audioMuted </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> NO</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">videoMuted </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> NO</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">welcomePageEnabled </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> NO</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">builder setConfigOverride</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;requireDisplayName&quot;</span><span class="token plain"> withBoolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">YES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">builder setConfigOverride</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;customToolbarButtons&quot;</span><span class="token plain"> withArray</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token operator" style="color:rgb(137, 221, 255)">@</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token operator" style="color:rgb(137, 221, 255)">@</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;icon&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;https://w7.pngwing.com/pngs/987/537/png-transparent-download-downloading-save-basic-user-interface-icon-thumbnail.png&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;id&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;btn1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;text&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;Button one&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token operator" style="color:rgb(137, 221, 255)">@</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;icon&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;https://w7.pngwing.com/pngs/987/537/png-transparent-download-downloading-save-basic-user-interface-icon-thumbnail.png&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;id&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;btn2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;text&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;Button two&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">jitsiMeetView join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="leave">leave<a href="#leave" class="hash-link" aria-label="Direct link to leave" title="Direct link to leave">​</a></h4>
<p>离开当前活动的会议。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hangup">hangUp<a href="#hangup" class="hash-link" aria-label="Direct link to hangUp" title="Direct link to hangUp">​</a></h4>
<p>本地参与者离开当前会议。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="setaudiomuted">setAudioMuted<a href="#setaudiomuted" class="hash-link" aria-label="Direct link to setAudioMuted" title="Direct link to setAudioMuted">​</a></h4>
<p>根据 <code>muted</code> 参数设置本地参与者的音频静音状态。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="setvideomuted">setVideoMuted<a href="#setvideomuted" class="hash-link" aria-label="Direct link to setVideoMuted" title="Direct link to setVideoMuted">​</a></h4>
<p>根据 <code>muted</code> 参数设置本地参与者的视频静音状态。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sendendpointtextmessage">sendEndpointTextMessage<a href="#sendendpointtextmessage" class="hash-link" aria-label="Direct link to sendEndpointTextMessage" title="Direct link to sendEndpointTextMessage">​</a></h4>
<p>通过数据通道向特定参与者或所有参与者发送消息。如果 <code>to</code> 参数为空，则消息将发送给会议中的所有参与者。</p>
<p>要获取 <code>participantId</code>，应监听 <code>PARTICIPANT_JOINED</code> 事件，其中 <code>data</code> 包含 id，并且应该以某种方式存储。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="togglescreenshare">toggleScreenShare<a href="#togglescreenshare" class="hash-link" aria-label="Direct link to toggleScreenShare" title="Direct link to toggleScreenShare">​</a></h4>
<p>根据 <code>enabled</code> 参数设置本地参与者的屏幕共享状态。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="openchat">openChat<a href="#openchat" class="hash-link" aria-label="Direct link to openChat" title="Direct link to openChat">​</a></h4>
<p>打开聊天对话框。如果 <code>to</code> 包含有效的 <code>participantId</code>，则将打开与该特定参与者的私人聊天。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sendchatmessage">sendChatMessage<a href="#sendchatmessage" class="hash-link" aria-label="Direct link to sendChatMessage" title="Direct link to sendChatMessage">​</a></h4>
<p>通过发送聊天消息给特定参与者或所有参与者。如果 <code>to</code> 参数为空，则消息将发送给会议中的所有参与者。</p>
<p>要获取 <code>participantId</code>，应监听 <code>PARTICIPANT_JOINED</code> 事件，其中 <code>data</code> 包含 id，并且应该以某种方式存储。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="closechat">closeChat<a href="#closechat" class="hash-link" aria-label="Direct link to closeChat" title="Direct link to closeChat">​</a></h4>
<p>关闭聊天对话框。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="retrieveparticipantsinfo">retrieveParticipantsInfo<a href="#retrieveparticipantsinfo" class="hash-link" aria-label="Direct link to retrieveParticipantsInfo" title="Direct link to retrieveParticipantsInfo">​</a></h4>
<p>以作为参数传递的 completionHandler 检索参与者信息。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="universal--deep-linking">Universal / deep linking<a href="#universal--deep-linking" class="hash-link" aria-label="Direct link to Universal / deep linking" title="Direct link to Universal / deep linking">​</a></h4>
<p>为了支持 Universal / deep linking，<code>JitsiMeet</code> 提供了两个类方法，您的应用代理应调用这些方法，以便应用可以处理这些链接。</p>
<p>如果这些函数返回 NO，则意味着 URL 未被 SDK 处理。这在宿主应用程序使用其他也使用链接的 SDK 时很有用。</p>
<div class="language-objc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objc codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BOOL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">application</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">UIApplication </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">application</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">continueUserActivity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSUserActivity </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">userActivity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  restorationHandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSArray </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">restorableObjects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">restorationHandler</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">JitsiMeet sharedInstance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> application</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">application</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">               continueUserActivity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">userActivity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                 restorationHandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">restorationHandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>以及以下之一：</p>
<div class="language-objc codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-objc codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 请参阅 https://developer.apple.com/documentation/uikit/uiapplicationdelegate/1623073-application?language=objc</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">BOOL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">application</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">UIApplication </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            openURL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSURL </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">url</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSDictionary</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">UIApplicationOpenURLOptionsKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">id</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">options </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">JitsiMeet sharedInstance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> application</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">app</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            openURL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">url</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jitsimeetviewdelegate">JitsiMeetViewDelegate<a href="#jitsimeetviewdelegate" class="hash-link" aria-label="Direct link to JitsiMeetViewDelegate" title="Direct link to JitsiMeetViewDelegate">​</a></h3>
<p>此委托是可选的，可以通过 <code>delegate</code> 属性在 <code>JitsiMeetView</code> 实例上设置。</p>
<p>它提供有关会议状态的信息：是否已加入、是否已离开、是否发生故障？</p>
<p>所有委托中的方法都是可选的。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="conferencejoined">conferenceJoined<a href="#conferencejoined" class="hash-link" aria-label="Direct link to conferenceJoined" title="Direct link to conferenceJoined">​</a></h4>
<p>在加入会议时调用。<code>data</code> 包含以下信息：</p>
<ul>
<li><code>url</code>：会议 URL</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="conferenceterminated">conferenceTerminated<a href="#conferenceterminated" class="hash-link" aria-label="Direct link to conferenceTerminated" title="Direct link to conferenceTerminated">​</a></h4>
<p>当活动会议结束时调用，无论是由于用户选择还是由于故障。<code>data</code> 包含以下信息：</p>
<ul>
<li><code>url</code>：会议 URL</li>
<li><code>error</code>：如果会议正常结束，则缺失；否则包含错误消息</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="conferencewilljoin">conferenceWillJoin<a href="#conferencewilljoin" class="hash-link" aria-label="Direct link to conferenceWillJoin" title="Direct link to conferenceWillJoin">​</a></h4>
<p>在加入会议之前调用。<code>data</code> 包含以 下信息：</p>
<ul>
<li><code>url</code>：会议 URL</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="enterpictureinpicture">enterPictureInPicture<a href="#enterpictureinpicture" class="hash-link" aria-label="Direct link to enterPictureInPicture" title="Direct link to enterPictureInPicture">​</a></h4>
<p>当用户请求进入画中画模式时调用。应用程序现在应该激活其画中画实现（并调整关联的 <code>JitsiMeetView</code> 大小。后者会自动检测其新大小并调整其用户界面以适应通常与画中画相关的小尺寸）。</p>
<p><code>data</code> 字典为空。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="participantjoined">participantJoined<a href="#participantjoined" class="hash-link" aria-label="Direct link to participantJoined" title="Direct link to participantJoined">​</a></h4>
<p>当参与者加入会议时调用。<code>data</code> 包含以下信息：</p>
<ul>
<li><code>email</code>：参与者的电子邮件。如果远程参与者未设置，则可能未设置。</li>
<li><code>name</code>：参与者的姓名。</li>
<li><code>role</code>：参与者的角色。</li>
<li><code>participantId</code>：参与者的 ID。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="participantleft">participantLeft<a href="#participantleft" class="hash-link" aria-label="Direct link to participantLeft" title="Direct link to participantLeft">​</a></h4>
<p>当参与者离开会议时调用。<code>data</code> 包含以下信息：</p>
<ul>
<li><code>participantId</code>：离开的参与者的 ID。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="audiomutedchanged">audioMutedChanged<a href="#audiomutedchanged" class="hash-link" aria-label="Direct link to audioMutedChanged" title="Direct link to audioMutedChanged">​</a></h4>
<p>当本地参与者的音频静音或取消静音时调用。<code>data</code> 包含以下信息：</p>
<ul>
<li><code>muted</code>：布尔值，指示音频是否静音。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="videomutedchanged">videoMutedChanged<a href="#videomutedchanged" class="hash-link" aria-label="Direct link to videoMutedChanged" title="Direct link to videoMutedChanged">​</a></h4>
<p>当本地参与者的视频静音或取消静音时调用。<code>data</code> 包含以下信息：</p>
<ul>
<li><code>muted</code>：整数，指示视频是否静音。0 表示未静音，4 表示静音。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="endpointtextmessagereceived">endpointTextMessageReceived<a href="#endpointtextmessagereceived" class="hash-link" aria-label="Direct link to endpointTextMessageReceived" title="Direct link to endpointTextMessageReceived">​</a></h4>
<p>当接收到端点文本消息时调用。</p>
<p><code>data</code> 字典包含一个 <code>senderId</code> 键，表示发送者的参与者 ID，以及一个 <code>message</code> 键，表示内容。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="screensharetoggled">screenShareToggled<a href="#screensharetoggled" class="hash-link" aria-label="Direct link to screenShareToggled" title="Direct link to screenShareToggled">​</a></h4>
<p>当参与者开始或停止共享屏幕时调用。</p>
<p><code>data</code> 字典包含一个 <code>participantId</code> 键，表示参与者的 ID，以及一个 <code>sharing</code> 键，表示布尔值。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="chatmessagereceived">chatMessageReceived<a href="#chatmessagereceived" class="hash-link" aria-label="Direct link to chatMessageReceived" title="Direct link to chatMessageReceived">​</a></h4>
<p>当接收到聊天文本消息时调用。<code>data</code> 包含以下信息：</p>
<ul>
<li><code>senderId</code>：发送消息的参与者的 ID。</li>
<li><code>message</code>：消息的内容。</li>
<li><code>isPrivate</code>：如果消息是私密的，则为 true；否则为 false。</li>
<li><code>timestamp</code>：消息的（可选）时间戳。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="chattoggled">chatToggled<a href="#chattoggled" class="hash-link" aria-label="Direct link to chatToggled" title="Direct link to chatToggled">​</a></h4>
<p>当聊天对话框打开或关闭时调用。<code>data</code> 包含以下信息：</p>
<ul>
<li><code>isOpen</code>：如果聊天对话框打开，则为 true；否则为 false。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="readytoclose">readyToClose<a href="#readytoclose" class="hash-link" aria-label="Direct link to readyToClose" title="Direct link to readyToClose">​</a></h4>
<p>当 SDK 准备关闭时调用。此时没有会议正在进行。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="customoverflowmenubuttonpressed">customOverflowMenuButtonPressed<a href="#customoverflowmenubuttonpressed" class="hash-link" aria-label="Direct link to customOverflowMenuButtonPressed" title="Direct link to customOverflowMenuButtonPressed">​</a></h4>
<p>当自定义按钮添加到溢出菜单时调用。<code>data</code> 包含以下信息：</p>
<ul>
<li><code>id</code>：被按下的自定义按钮的 ID。</li>
<li><code>text</code>：被按下的自定义按钮的标签。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="画中画">画中画<a href="#画中画" class="hash-link" aria-label="Direct link to 画中画" title="Direct link to 画中画">​</a></h3>
<p><code>JitsiMeetView</code> 在以画中画样式场景呈现时会自动调整其用户界面，大小矩形不足以容纳其“完整”用户界面。</p>
<p>Jitsi Meet SDK 目前在 iOS 上未实现本地画中画。如果需要，应用程序需要自行实现非本地画中画，并调整 <code>JitsiMeetView</code> 的大小。</p>
<p>如果 <code>delegate</code> 实现了 <code>enterPictureInPicture:</code>，则通话工具栏将渲染一个按钮，以便用户请求进入画中画。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dropbox-集成">Dropbox 集成<a href="#dropbox-集成" class="hash-link" aria-label="Direct link to Dropbox 集成" title="Direct link to Dropbox 集成">​</a></h2>
<p>要设置 Dropbox 集成，请按照以下步骤操作：</p>
<ol>
<li>将以下内容添加到应用的 Info.plist 中，并将 <code>&lt;APP_KEY&gt;</code> 替换为您的 Dropbox 应用密钥：</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;key&gt;CFBundleURLTypes&lt;/key&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;array&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;dict&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;key&gt;CFBundleURLName&lt;/key&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;string&gt;&lt;/string&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;array&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &lt;string&gt;db-&lt;APP_KEY&gt;&lt;/string&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;/array&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;/dict&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/array&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;key&gt;LSApplicationQueriesSchemes&lt;/key&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;array&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;string&gt;dbapi-2&lt;/string&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;string&gt;dbapi-8-emm&lt;/string&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/array&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>确保您的应用调用 Jitsi Meet SDK 的通用/深度链接委托方法。</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="屏幕共享集成">屏幕共享集成<a href="#屏幕共享集成" class="hash-link" aria-label="Direct link to 屏幕共享集成" title="Direct link to 屏幕共享集成">​</a></h2>
<p>自 JitsiMeetSDK 版本 3.3.0 起，iOS 增加了屏幕共享功能。此功能适用于运行 iOS 14 或更高版本的应用程序。</p>
<p>为此，我们使用 <code>Broadcast Upload Extension</code> 捕获用户屏幕的内容。通过 Unix 面向流的套接字通信将帧传递给 RN WebRTC，扩展作为客户端，React Native WebRTC 作为服务器。</p>
<p>以下文档涵盖了 <a href="https://github.com/jitsi/jitsi-meet-sdk-samples/tree/master/ios/swift-screensharing/JitsiSDKScreenSharingTest" target="_blank" rel="noopener noreferrer">示例应用程序</a> 中提供的代码。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建广播上传扩展">创建广播上传扩展<a href="#创建广播上传扩展" class="hash-link" aria-label="Direct link to 创建广播上传扩展" title="Direct link to 创建广播上传扩展">​</a></h3>
<p><code>广播上传扩展</code> 是 iOS 中定义的一种应用扩展类型，用于捕获用户屏幕的内容。</p>
<p>要创建该扩展，您需要为应用添加一个新目标，选择 <code>广播上传扩展</code> 模板。填写所需的名称，将语言更改为 Swift，确保未选中 <code>包含 UI 扩展</code>，因为在本案例中我们不需要自定义 UI，然后按完成（截图 1）。您会看到项目树中添加了一个新文件夹，包含 <code>SampleHandler.swift</code> 类。同时，确保将新创建的扩展的 <code>Deployment Info</code> 更新为 iOS 14 或更高版本。要了解更多关于创建应用扩展的信息，请查看 <a href="https://developer.apple.com/library/archive/documentation/General/Conceptual/ExtensibilityPG/ExtensionCreation.html" target="_blank" rel="noopener noreferrer">官方文档</a>。</p>
<p><img decoding="async" loading="lazy" alt="截图 1" src="/handbook/assets/images/iOS_screensharing_1-9fc051cab7c6c45813ac86a09d9be7f8.png" title="截图 1" width="594" height="402" class="img_ev3q"></p>
<p>扩展创建完成后，下一步是设置套接字连接，添加处理接收帧的功能，并将其发送到 RN WebRTC 进行处理。我们将使用示例项目中提供的代码。将 <code>SampleUploader.swift</code>、<code>SocketConnection.swift</code>、<code>DarwinNotificationCenter.swift</code> 和 <code>Atomic.swift</code> 文件复制到扩展的文件夹中，并确保它们被添加到目标中。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="设置套接字连接">设置套接字连接<a href="#设置套接字连接" class="hash-link" aria-label="Direct link to 设置套接字连接" title="Direct link to 设置套接字连接">​</a></h3>
<p>通过 Unix SOCK_STREAM   套接字将录制的帧发送到 RN WebRTC。扩展需要设置为客户端端点。</p>
<p>我们将更新 <code>SampleHandler.swift</code>，以使用 <code>SocketConnection</code> 类初始化与 RN WebRTC 的套接字连接。但在此之前，我们需要设置套接字将用于通信的文件。</p>
<p>尽管应用扩展捆绑包嵌套在其包含应用的捆绑包中，但正在运行的应用扩展和包含应用之间没有直接访问彼此容器的权限。我们将通过启用数据共享来解决这个问题。使用 Xcode 或开发者门户为包含应用及其包含的应用扩展启用应用组。接下来，在门户中注册应用组，并在包含应用中指定要使用的应用组。要了解如何使用应用组，请参见 <a href="https://developer.apple.com/library/archive/documentation/Miscellaneous/Reference/EntitlementKeyReference/Chapters/EnablingAppSandbox.html#//apple_ref/doc/uid/TP40011195-CH4-SW19" target="_blank" rel="noopener noreferrer">添加应用到应用组</a>。</p>
<p>现在，在 <code>SampleHandler</code> 类中添加 <code>private var socketFilePath: String</code>，并使用新注册的应用组设置共享文件名 <code>rtc_SSFD</code>，如下所示：</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">enum</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Constants</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> appGroupIdentifier </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(195, 232, 141)">&quot;my.custom.app.group&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> socketFilePath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> sharedContainer </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">FileManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">containerURL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">forSecurityApplicationGroupIdentifier</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Constants</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">appGroupIdentifier</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> sharedContainer</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">appendingPathComponent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string-literal string" style="color:rgb(195, 232, 141)">&quot;rtc_SSFD&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">path </span><span class="token operator" style="color:rgb(137, 221, 255)">??</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>接下来，我们将配置 <code>SocketConnection</code> 使用共享文件。在 <code>SampleHandler</code> 类中添加 <code>private var clientConnection: SocketConnection?</code>，并重写 <code>init</code> 进行设置，如下所示：</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">override</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">init</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">super</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">init</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> connection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SocketConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">filePath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> socketFilePath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        clientConnection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> connection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>为了使其工作，RN WebRTC 端需要知道我们为应用配置的应用组标识符。我们通过在应用的 <code>Info.plist</code> 中添加一个名为 <code>RTCAppGroupIdentifier</code> 的新键，并将应用组标识符作为值来实现。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="打开套接字连接">打开套接字连接<a href="#打开套接字连接" class="hash-link" aria-label="Direct link to 打开套接字连接" title="Direct link to 打开套接字连接">​</a></h3>
<p>要开始屏幕共享，JitsiMeet SDK 提供 UI 来向用户展示 <code>RPSystemBroadcastPickerView</code>。默认情况下，选择器将显示所有可用的广播提供者。为了将选择器限制为我们的特定广播提供者，我们需要将 <code>preferredExtension</code> 设置为广播扩展的包标识符。我们通过在应用的 Info.plist 中添加一个名为 <code>RTCScreenSharingExtension</code> 的新键并将广播扩展的包标识符设置为值来实现。</p>
<p>一旦开始屏幕录制，ReplayKit 将调用 <code>SampleHandler</code> 类中的方法来处理视频缓冲区，以及启动和停止广播的方法。<code>broadcastStarted(withSetupInfo:)</code> 方法是我们打开与 RN WebRTC 服务器的套接字连接的入口点。为此，我们需要发布服务器正在监听的 <code>broadcastStarted</code> 通知，以便开始连接，我们准备连接。向 <code>SampleHandler</code> 类添加一个新的方法 <code>openConnection()</code>，该方法将重复尝试连接服务器，以防服务器连接启动延迟：</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(130, 170, 255)">openConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> queue </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">DispatchQueue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">label</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(195, 232, 141)">&quot;broadcast.connectTimer&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> timer </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">DispatchSource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">makeTimerSource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">queue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> queue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    timer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">schedule</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">deadline</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">now</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> repeating</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">milliseconds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> leeway</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">milliseconds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    timer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">setEventHandler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token keyword" style="font-style:italic">weak</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">guard</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">clientConnection</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">open</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        timer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">cancel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    timer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">resume</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>接下来，更新 <code>broadcastStarted(withSetupInfo:)</code> 方法以发布通知并连接：</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">override</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(130, 170, 255)">broadcastStarted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">withSetupInfo setupInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">NSObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">DarwinNotificationCenter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">shared</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">postNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">broadcastStarted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">openConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>DarwinNotificationCenter</code> 是一个简单的助手类，用于广播系统范围的通知，而不仅仅是在单个程序内发送，正如 <code>NSNotificationCenter</code> 所做的那样。这种机制允许应用注册接收来自扩展的通知。</p>
<p>现在我们准备开始发送视频帧。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="发送视频帧">发送视频帧<a href="#发送视频帧" class="hash-link" aria-label="Direct link to 发送视频帧" title="Direct link to 发送视频帧">​</a></h3>
<p>RN WebRTC 设计用于处理编码为 jpeg 的图像，封装在 <code>CFHTTPMessage</code> 对象中。以下头字段是必需的：</p>
<ul>
<li><code>Content-Length</code> - jpeg 数据的大小</li>
<li><code>Buffer-Width</code> - 缓冲区的宽度，以像素为单位</li>
<li><code>Buffer-Height</code> - 缓冲区的高度，以像素为单位</li>
<li><code>Buffer-Orientation</code> - 描述视频方向的 <code>RPVideoSampleOrientationKey</code> 的值。</li>
</ul>
<p>我们将使用 <code>SampleUploader</code> 类准备并发送视频帧。在 <code>SampleHandler</code> 类中添加一个新的 <code>private var uploader: SampleUploader?</code>，并更新 <code>init()</code> 以初始化它：</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">override</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">init</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">super</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">init</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> connection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SocketConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">filePath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> socketFilePath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      clientConnection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> connection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      uploader </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SampleUploader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">connection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> connection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>接下来，我们将更新 <code>processSampleBuffer(_ sampleBuffer: CMSampleBuffer, with sampleBufferType: RPSampleBufferType)</code> 方法以发送视频帧。出于性能考虑，我们还将实现一个非常简单的机制，通过使用每第三帧来调整帧速率。在类中添加一个新的 <code>private var frameCount = 0</code>，并按如下方式更新上述方法：</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">override</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(130, 170, 255)">processSampleBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token omit keyword" style="font-style:italic">_</span><span class="token plain"> sampleBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">CMSampleBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> with sampleBufferType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">RPSampleBufferType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">switch</span><span class="token plain"> sampleBufferType </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">case</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">video</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 通过使用每第三帧来实现帧速率调整的非常简单机制</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        frameCount </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> frameCount </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            uploader</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">sample</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> sampleBuffer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>此外，更新 <code>broadcastStarted(withSetupInfo setupInfo: [String: NSObject]?)</code>，在每次开始屏幕共享时重置 <code>frameCount</code>：</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">override</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(130, 170, 255)">broadcastStarted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">withSetupInfo setupInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">NSObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    frameCount </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">DarwinNotificationCenter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">shared</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">postNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">broadcastStarted</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">openConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>至此，我们已经完成了发送视频帧的工作，可以进入最后一步，处理停止屏幕共享。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="处理停止屏幕共享">处理停止屏幕共享<a href="#处理停止屏幕共享" class="hash-link" aria-label="Direct link to 处理停止屏幕共享" title="Direct link to 处理停止屏幕共享">​</a></h3>
<p>除了会议中的用户界面（截图 2）外，ReplayKit 与 iOS 的集成还支持从状态栏（截图 3）或使用控制中心（截图 4）停止屏幕录制。</p>
<p><img decoding="async" loading="lazy" alt="ios-screensharing" src="/handbook/assets/images/iOS_screensharing_2-e4305e7a7935b01689f316310cae41e9.png" title="截图 2" width="226" height="487" class="img_ev3q"> <img decoding="async" loading="lazy" alt="ios-screensharing" src="/handbook/assets/images/iOS_screensharing_3-83343a2407deba42d29b363470fa4680.png" title="截图 3" width="226" height="487" class="img_ev3q"> <img decoding="async" loading="lazy" alt="ios-screensharing" src="/handbook/assets/images/iOS_screensharing_4-985c0a05d859624dab3201410a425ca1.png" title="截图 4" width="226" height="487" class="img_ev3q"></p>
<p>任何这些操作都将触发我们 <code>SampleHandler</code> 实现中的 <code>broadcastFinished</code>。这是我们关闭连接和清理的入口点。我们将更新 <code>broadcastFinished</code>，以发布 <code>DarwinNotification.broadcastStopped</code> 的系统范围通知并关闭连接：</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">override</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(130, 170, 255)">broadcastFinished</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token class-name" style="color:rgb(255, 203, 107)">DarwinNotificationCenter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">shared</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">postNotification</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">broadcastStopped</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    clientConnection</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">close</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们还需要处理另一种情况，即服务器连接中断，例如在屏幕共享时离开会议或遇到错误。我们将通过处理 <code>clientConnection.didClose</code> 事件来解决这个问题。在 <code>SampleHandler</code> 类中添加一个新方法 <code>setupConnection</code>，并更新 <code>init</code> 以调用它：</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(130, 170, 255)">setupConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    clientConnection</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">didClose </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token keyword" style="font-style:italic">weak</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> error </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain">      </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> error </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> error </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">self</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">finishBroadcastWithError</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 使用 NSError 而不是 Error 会使显示的失败消息更友好</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">JMScreenSharingStopped</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10001</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> customError </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">NSError</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">domain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">RPRecordingErrorDomain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">JMScreenSharingStopped</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> userInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token class-name" style="color:rgb(255, 203, 107)">NSLocalizedDescriptionKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(195, 232, 141)">&quot;屏幕共享已停止&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">self</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">finishBroadcastWithError</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">customError</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">override</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">init</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">super</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token keyword" style="font-style:italic">init</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> connection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SocketConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">filePath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> socketFilePath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      clientConnection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> connection</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token function" style="color:rgb(130, 170, 255)">setupConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      uploader </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">SampleUploader</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">connection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> connection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>现在，我们已经完成了实现，只需在 Jitsi 中启用此功能。我们通过使用 <code>JitsiMeetConferenceOptionsBuilder</code> 配置 <code>ios.screensharing.enabled</code> 功能标志来实现，代码如下：</p>
<div class="language-swift codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-swift codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">let</span><span class="token plain"> options </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">JitsiMeetConferenceOptions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">fromBuilder </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token keyword" style="font-style:italic">weak</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> builder </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    builder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">setFeatureFlag</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string-literal string" style="color:rgb(195, 232, 141)">&quot;ios.screensharing.enabled&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> withBoolean</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">meetView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>最后，我们准备测试该实现。在此之前，请确保将 voip 添加到应用的 <code>Info.plist</code> 中的 <code>UIBackgroundModes</code>，以便在应用在后台时仍能正常工作。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tldr">TL;DR<a href="#tldr" class="hash-link" aria-label="Direct link to TL;DR" title="Direct link to TL;DR">​</a></h3>
<ul>
<li>向应用添加一个没有 UI 的 <code>广播上传扩展</code>。将部署信息更新为在 iOS 14 或更高版本中运行。</li>
<li>从示例项目中复制 <code>SampleUploader.swift</code>、<code>SocketConnection.swift</code>、<code>DarwinNotificationCenter.swift</code> 和 <code>Atomic.swift</code> 文件到扩展中。确保它们已添加到扩展的目标中。</li>
<li>将应用和扩展添加到同一应用组。接下来，将应用组 ID 值添加到应用的 <code>Info.plist</code> 中的 <code>RTCAppGroupIdentifier</code> 键。</li>
<li>在应用的 <code>Info.plist</code> 中添加一个新键 <code>RTCScreenSharingExtension</code>，其值为扩展的 <code>Bundle Identifier</code>。</li>
<li>使用示例项目中的代码更新 <code>SampleHandler.swift</code>。将 <code>appGroupIdentifier</code> 常量更新为您的应用和扩展均注册的应用组名称。</li>
<li>更新 <code>JitsiMeetConferenceOptions</code>，使用 <code>ios.screensharing.enabled</code> 功能标志启用屏幕共享。</li>
<li>确保将 voip 添加到应用的 <code>Info.plist</code> 中的 <code>UIBackgroundModes</code>，以便在应用在后台时仍能正常工作。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="调试">调试<a href="#调试" class="hash-link" aria-label="Direct link to 调试" title="Direct link to 调试">​</a></h2>
<ul>
<li>
<p>如果您选择使用 <code>Console</code> 应用进行调试，请确保选择：
<code>Action</code>（选项卡） -&gt; <code>Include Info Messages</code>
<code>Action</code>（选项卡） -&gt; <code>Include Debug Messages</code></p>
</li>
<li>
<p>在搜索过滤器中，请输入 <code>JitsiMeetSDK</code>，按回车键并将 <code>ANY</code> 替换为 <code>Category</code>。
这将显示与我们的 SDK 相关的所有实时日志。</p>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/jitsi/handbook/edit/master/docs/dev-guide/ios-sdk.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-10-15T15:38:09.000Z" itemprop="dateModified">Oct 15, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/handbook/docs/dev-guide/dev-guide-android-sdk"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Android SDK</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/handbook/docs/dev-guide/dev-guide-react-native-sdk"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">React Native SDK</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#使用-sdk-的示例应用程序" class="table-of-contents__link toc-highlight">使用 SDK 的示例应用程序</a></li><li><a href="#用法" class="table-of-contents__link toc-highlight">用法</a><ul><li><a href="#使用-cocoapods" class="table-of-contents__link toc-highlight">使用 CocoaPods</a></li><li><a href="#自行构建" class="table-of-contents__link toc-highlight">自行构建</a></li></ul></li><li><a href="#api" class="table-of-contents__link toc-highlight">API</a><ul><li><a href="#jitsimeetview-类" class="table-of-contents__link toc-highlight">JitsiMeetView 类</a></li><li><a href="#jitsimeetviewdelegate" class="table-of-contents__link toc-highlight">JitsiMeetViewDelegate</a></li><li><a href="#画中画" class="table-of-contents__link toc-highlight">画中画</a></li></ul></li><li><a href="#dropbox-集成" class="table-of-contents__link toc-highlight">Dropbox 集成</a></li><li><a href="#屏幕共享集成" class="table-of-contents__link toc-highlight">屏幕共享集成</a><ul><li><a href="#创建广播上传扩展" class="table-of-contents__link toc-highlight">创建广播上传扩展</a></li><li><a href="#设置套接字连接" class="table-of-contents__link toc-highlight">设置套接字连接</a></li><li><a href="#打开套接字连接" class="table-of-contents__link toc-highlight">打开套接字连接</a></li><li><a href="#发送视频帧" class="table-of-contents__link toc-highlight">发送视频帧</a></li><li><a href="#处理停止屏幕共享" class="table-of-contents__link toc-highlight">处理停止屏幕共享</a></li><li><a href="#tldr" class="table-of-contents__link toc-highlight">TL;DR</a></li></ul></li><li><a href="#调试" class="table-of-contents__link toc-highlight">调试</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/handbook/docs/intro">Introduction - 概述</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/docs/category/user-guide">User Guide - 用户指南</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/docs/category/developer-guide">Developer Guide - 开发者指南</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/docs/devops-guide">Self-Hosting Guide - 自托管指南</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community - 社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://community.jitsi.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum - 论坛<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/jitsinews" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More - 更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://jitsi.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog - 博客<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/jitsi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://jaas.8x8.vc" target="_blank" rel="noopener noreferrer" class="footer__link-item">JaaS: Jitsi as a Service<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://8x8.com" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/handbook/img/8x8-copyright-icon.svg" alt="8x8 Footer Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/handbook/img/8x8-copyright-icon.svg" alt="8x8 Footer Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></a></div><div class="footer__copyright">Copyright © 8x8, Inc.</div></div></div></footer></div>
</body>
</html>