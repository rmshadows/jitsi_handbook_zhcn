"use strict";(self.webpackChunk_jitsi_handbook=self.webpackChunk_jitsi_handbook||[]).push([[4753],{7704:(e,d,s)=>{s.r(d),s.d(d,{assets:()=>h,contentTitle:()=>r,default:()=>x,frontMatter:()=>c,metadata:()=>l,toc:()=>t});var n=s(4848),i=s(8453);const c={id:"devops-guide-docker",title:"\u81ea\u6258\u7ba1\u6307\u5357 - Docker",sidebar_label:"Docker"},r=void 0,l={id:"devops-guide/devops-guide-docker",title:"\u81ea\u6258\u7ba1\u6307\u5357 - Docker",description:"Quick start - \u5feb\u901f\u4e0a\u624b",source:"@site/docs/devops-guide/docker.md",sourceDirName:"devops-guide",slug:"/devops-guide/devops-guide-docker",permalink:"/handbook/docs/devops-guide/devops-guide-docker",draft:!1,unlisted:!1,editUrl:"https://github.com/jitsi/handbook/edit/master/docs/devops-guide/docker.md",tags:[],version:"current",lastUpdatedAt:1729006689e3,frontMatter:{id:"devops-guide-docker",title:"\u81ea\u6258\u7ba1\u6307\u5357 - Docker",sidebar_label:"Docker"},sidebar:"docs",previous:{title:"openSUSE",permalink:"/handbook/docs/devops-guide/devops-guide-opensuse"},next:{title:"Log Analyser - \u65e5\u5fd7\u5206\u6790\u5668",permalink:"/handbook/docs/devops-guide/devops-guide-log-analyser"}},h={},t=[{value:"Quick start - \u5feb\u901f\u4e0a\u624b",id:"quick-start---\u5feb\u901f\u4e0a\u624b",level:2},{value:"\u66f4\u65b0",id:"\u66f4\u65b0",level:3},{value:"\u6d4b\u8bd5\u5f00\u53d1/\u4e0d\u7a33\u5b9a\u7248\u672c\u6784\u5efa",id:"\u6d4b\u8bd5\u5f00\u53d1\u4e0d\u7a33\u5b9a\u7248\u672c\u6784\u5efa",level:3},{value:"\u6784\u5efa\u60a8\u81ea\u5df1\u7684\u955c\u50cf",id:"\u6784\u5efa\u60a8\u81ea\u5df1\u7684\u955c\u50cf",level:3},{value:"\u5b89\u5168\u63d0\u793a",id:"\u5b89\u5168\u63d0\u793a",level:3},{value:"\u67b6\u6784",id:"\u67b6\u6784",level:2},{value:"\u5916\u90e8\u7aef\u53e3",id:"\u5916\u90e8\u7aef\u53e3",level:3},{value:"\u955c\u50cf",id:"\u955c\u50cf",level:3},{value:"\u8bbe\u8ba1\u8003\u8651",id:"\u8bbe\u8ba1\u8003\u8651",level:3},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"TLS \u914d\u7f6e",id:"tls-\u914d\u7f6e",level:3},{value:"Let&#39;s Encrypt \u914d\u7f6e",id:"lets-encrypt-\u914d\u7f6e",level:4},{value:"\u4f7f\u7528\u73b0\u6709\u7684 TLS \u8bc1\u4e66\u548c\u5bc6\u94a5",id:"\u4f7f\u7528\u73b0\u6709\u7684-tls-\u8bc1\u4e66\u548c\u5bc6\u94a5",level:4},{value:"\u529f\u80fd\u914d\u7f6e\uff08config.js\uff09",id:"\u529f\u80fd\u914d\u7f6econfigjs",level:3},{value:"Jigasi SIP \u7f51\u5173\uff08\u4ec5\u97f3\u9891\uff09\u914d\u7f6e",id:"jigasi-sip-\u7f51\u5173\u4ec5\u97f3\u9891\u914d\u7f6e",level:3},{value:"\u663e\u793a\u62e8\u5165\u4fe1\u606f",id:"\u663e\u793a\u62e8\u5165\u4fe1\u606f",level:4},{value:"\u4f7f\u7528 Jibri \u8fdb\u884c\u5f55\u5236/\u76f4\u64ad\u914d\u7f6e",id:"\u4f7f\u7528-jibri-\u8fdb\u884c\u5f55\u5236\u76f4\u64ad\u914d\u7f6e",level:3},{value:"Jitsi Meet \u914d\u7f6e",id:"jitsi-meet-\u914d\u7f6e",level:3},{value:"\u8eab\u4efd\u9a8c\u8bc1",id:"\u8eab\u4efd\u9a8c\u8bc1",level:3},{value:"\u5185\u90e8\u8eab\u4efd\u9a8c\u8bc1",id:"\u5185\u90e8\u8eab\u4efd\u9a8c\u8bc1",level:4},{value:"\u4f7f\u7528 LDAP \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1",id:"\u4f7f\u7528-ldap-\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1",level:4},{value:"\u4f7f\u7528 JWT \u4ee4\u724c\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1",id:"\u4f7f\u7528-jwt-\u4ee4\u724c\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1",level:4},{value:"\u4f7f\u7528 Matrix \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1",id:"\u4f7f\u7528-matrix-\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1",level:4},{value:"\u4f7f\u7528\u6df7\u5408 Matrix \u4ee4\u724c\uff08Hybrid Matrix Token\uff09\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1",id:"\u4f7f\u7528\u6df7\u5408-matrix-\u4ee4\u724chybrid-matrix-token\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1",level:4},{value:"\u5916\u90e8\u8eab\u4efd\u9a8c\u8bc1",id:"\u5916\u90e8\u8eab\u4efd\u9a8c\u8bc1",level:4},{value:"\u4f7f\u7528 Etherpad \u8fdb\u884c\u6587\u6863\u534f\u4f5c\u7f16\u8f91",id:"\u4f7f\u7528-etherpad-\u8fdb\u884c\u6587\u6863\u534f\u4f5c\u7f16\u8f91",level:3},{value:"\u8f6c\u5f55\u529f\u80fd\u914d\u7f6e",id:"\u8f6c\u5f55\u529f\u80fd\u914d\u7f6e",level:3},{value:"Sentry \u65e5\u5fd7\u914d\u7f6e",id:"sentry-\u65e5\u5fd7\u914d\u7f6e",level:3},{value:"TURN \u670d\u52a1\u5668\u914d\u7f6e",id:"turn-\u670d\u52a1\u5668\u914d\u7f6e",level:3},{value:"\u9ad8\u7ea7\u914d\u7f6e",id:"\u9ad8\u7ea7\u914d\u7f6e",level:3},{value:"\u9ad8\u7ea7 Prosody \u9009\u9879",id:"\u9ad8\u7ea7-prosody-\u9009\u9879",level:4},{value:"\u9ad8\u7ea7 Jicofo \u9009\u9879",id:"\u9ad8\u7ea7-jicofo-\u9009\u9879",level:4},{value:"\u9ad8\u7ea7 JVB \u9009\u9879",id:"\u9ad8\u7ea7-jvb-\u9009\u9879",level:4},{value:"\u9ad8\u7ea7 Jigasi \u9009\u9879",id:"\u9ad8\u7ea7-jigasi-\u9009\u9879",level:4},{value:"\u5728 NAT \u6216\u5c40\u57df\u7f51\u73af\u5883\u4e2d\u8fd0\u884c",id:"\u5728-nat-\u6216\u5c40\u57df\u7f51\u73af\u5883\u4e2d\u8fd0\u884c",level:3},{value:"\u62c6\u5206\u89c6\u56fe(Split horizon)",id:"\u62c6\u5206\u89c6\u56fesplit-horizon",level:4},{value:"\u79bb\u7ebf / \u9694\u79bb\u5b89\u88c5",id:"\u79bb\u7ebf--\u9694\u79bb\u5b89\u88c5",level:4},{value:"\u8bbf\u95ee\u670d\u52a1\u5668\u65e5\u5fd7",id:"\u8bbf\u95ee\u670d\u52a1\u5668\u65e5\u5fd7",level:2},{value:"\u6784\u5efa\u8bf4\u660e",id:"\u6784\u5efa\u8bf4\u660e",level:2},{value:"\u5728\u53cd\u5411\u4ee3\u7406\u540e\u8fd0\u884c",id:"\u5728\u53cd\u5411\u4ee3\u7406\u540e\u8fd0\u884c",level:2},{value:"\u7981\u7528 WebSocket \u8fde\u63a5",id:"\u7981\u7528-websocket-\u8fde\u63a5",level:3}];function j(e){const d={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{Details:c}=d;return c||function(e,d){throw new Error("Expected "+(d?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.h2,{id:"quick-start---\u5feb\u901f\u4e0a\u624b",children:"Quick start - \u5feb\u901f\u4e0a\u624b"}),"\n",(0,n.jsx)(d.p,{children:"\u8981\u5728\u8fd0\u884c Docker \u548c Docker Compose \u7684\u673a\u5668\u4e0a\u5feb\u901f\u8fd0\u884c Jitsi Meet\uff0c\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a"}),"\n",(0,n.jsxs)(d.ol,{children:["\n",(0,n.jsxs)(d.li,{children:["\n",(0,n.jsxs)(d.p,{children:["\u4e0b\u8f7d\u5e76\u89e3\u538b [\u6700\u65b0\u53d1\u5e03\u7248\u672c]\u3002 ",(0,n.jsx)(d.strong,{children:"\u8bf7\u52ff"})," \u76f4\u63a5\u514b\u9686 git \u4ed3\u5e93\u3002\u5982\u679c\u60a8\u60f3\u8fd0\u884c\u6d4b\u8bd5\u955c\u50cf\uff0c\u8bf7\u53c2\u89c1\u4e0b\u6587\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"wget $(curl -s https://api.github.com/repos/jitsi/docker-jitsi-meet/releases/latest | grep 'zip' | cut -d\\\" -f4)\n"})}),"\n"]}),"\n",(0,n.jsxs)(d.li,{children:["\n",(0,n.jsx)(d.p,{children:"\u89e3\u538b\u5305\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"unzip <filename>\n"})}),"\n"]}),"\n",(0,n.jsxs)(d.li,{children:["\n",(0,n.jsxs)(d.p,{children:["\u901a\u8fc7\u590d\u5236\u5e76\u8c03\u6574 ",(0,n.jsx)(d.code,{children:"env.example"})," \u6765\u521b\u5efa ",(0,n.jsx)(d.code,{children:".env"})," \u6587\u4ef6\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"cp env.example .env\n"})}),"\n"]}),"\n",(0,n.jsxs)(d.li,{children:["\n",(0,n.jsxs)(d.p,{children:["\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0b bash \u811a\u672c\uff0c\u5728 ",(0,n.jsx)(d.code,{children:".env"})," \u6587\u4ef6\u7684\u5b89\u5168\u90e8\u5206\u8bbe\u7f6e\u5f3a\u5bc6\u7801\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"./gen-passwords.sh\n"})}),"\n"]}),"\n",(0,n.jsxs)(d.li,{children:["\n",(0,n.jsxs)(d.p,{children:["\u521b\u5efa\u6240\u9700\u7684 ",(0,n.jsx)(d.code,{children:"CONFIG"})," \u76ee\u5f55"]}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsx)(d.li,{children:"\u5bf9\u4e8e Linux\uff1a"}),"\n"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"mkdir -p ~/.jitsi-meet-cfg/{web,transcripts,prosody/config,prosody/prosody-plugins-custom,jicofo,jvb,jigasi,jibri}\n"})}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsx)(d.li,{children:"\u5bf9\u4e8e Windows\uff1a"}),"\n"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:'echo web,transcripts,prosody/config,prosody/prosody-plugins-custom,jicofo,jvb,jigasi,jibri | % { mkdir "~/.jitsi-meet-cfg/$_" }\n'})}),"\n"]}),"\n",(0,n.jsxs)(d.li,{children:["\n",(0,n.jsxs)(d.p,{children:["\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u542f\u52a8\u670d\u52a1\uff08\u8bd1\u8005\uff1a\u5efa\u8bae\u4f7f\u7528",(0,n.jsx)(d.code,{children:"docker-compose"}),"\u8f93\u51fa\u66f4\u7b80\u6d01\uff09\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"docker compose up -d\n"})}),"\n"]}),"\n",(0,n.jsxs)(d.li,{children:["\n",(0,n.jsxs)(d.p,{children:["\u901a\u8fc7 ",(0,n.jsx)(d.a,{href:"https://localhost:8443",children:(0,n.jsx)(d.code,{children:"https://localhost:8443"})})," \u8bbf\u95ee Web UI\uff08\u5982\u679c\u60a8\u7f16\u8f91\u4e86 ",(0,n.jsx)(d.code,{children:".env"})," \u6587\u4ef6\u4e2d\u7684\u7aef\u53e3\uff0c\u8bf7\u4f7f\u7528\u76f8\u5e94\u7684\u7aef\u53e3\uff09\u3002"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(d.admonition,{type:"note",children:[(0,n.jsx)(d.p,{children:"HTTP\uff08\u975e HTTPS\uff09\u4e5f\u53ef\u7528\uff08\u9ed8\u8ba4\u7aef\u53e3\u4e3a 8000\uff09\uff0c\u4f46\u8fd9\u4e3b\u8981\u7528\u4e8e\u53cd\u5411\u4ee3\u7406\u8bbe\u7f6e\uff1b\u76f4\u63a5\u901a\u8fc7 HTTP \u8bbf\u95ee\u800c\u975e HTTPS \u4f1a\u5bfc\u81f4 WebRTC \u9519\u8bef\uff0c\u4f8b\u5982\uff1a"}),(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsx)(d.li,{children:(0,n.jsx)(d.em,{children:"\u65e0\u6cd5\u8bbf\u95ee\u60a8\u7684\u9ea6\u514b\u98ce/\u6444\u50cf\u5934\uff1a\u56e0\u672a\u77e5\u539f\u56e0\u65e0\u6cd5\u4f7f\u7528\u9ea6\u514b\u98ce/\u6444\u50cf\u5934\u3002\u65e0\u6cd5\u8bfb\u53d6\u5c5e\u6027 'getUserMedia' \u7684\u503c 'undefined'"})}),"\n",(0,n.jsx)(d.li,{children:(0,n.jsx)(d.em,{children:"navigator.mediaDevices \u672a\u5b9a\u4e49"})}),"\n"]})]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.strong,{children:"\u91cd\u8981"}),"\uff1a\u5f53\u5b9e\u9645\u90e8\u7f72 Jitsi Meet \u65f6\uff0c\u5fc5\u987b\u5c06 ",(0,n.jsx)(d.code,{children:"PUBLIC_URL"})," \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u4e3a\u60a8\u7684\u771f\u5b9e\u57df\u540d\uff08\u8bd1\u8005\uff1a\u8fd9\u70b9\u975e\u5e38\u91cd\u8981\uff01\uff09\u3002"]}),"\n",(0,n.jsxs)(d.p,{children:["\u5982\u679c\u60a8\u8fd8\u60f3\u4f7f\u7528 jigasi\uff0c\u8bf7\u9996\u5148\u5728 ",(0,n.jsx)(d.code,{children:".env"})," \u6587\u4ef6\u4e2d\u914d\u7f6e SIP \u51ed\u636e\uff0c\u7136\u540e\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fd0\u884c Docker Compose\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"docker compose -f docker-compose.yml -f jigasi.yml up\n"})}),"\n",(0,n.jsxs)(d.p,{children:["\u5982\u679c\u60a8\u60f3\u542f\u7528\u6587\u6863\u5171\u4eab\u529f\u80fd\uff08\u901a\u8fc7 ",(0,n.jsx)(d.a,{href:"https://github.com/ether/etherpad-lite",children:"Etherpad"}),"\uff09\uff0c\u8bf7\u914d\u7f6e\u5b83\u5e76\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fd0\u884c Docker Compose\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"docker compose -f docker-compose.yml -f etherpad.yml up\n"})}),"\n",(0,n.jsx)(d.p,{children:"\u5982\u679c\u60a8\u8fd8\u60f3\u4f7f\u7528 jibri\uff0c\u8bf7\u9996\u5148\u6309\u7167 Jitsi \u5e7f\u64ad\u57fa\u7840\u8bbe\u65bd\u914d\u7f6e\u90e8\u5206\u7684\u8bf4\u660e\u914d\u7f6e\u4e3b\u673a\uff0c\u7136\u540e\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fd0\u884c Docker Compose\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"docker compose -f docker-compose.yml -f jibri.yml up -d\n"})}),"\n",(0,n.jsx)(d.p,{children:"\u6216\u8005\u540c\u65f6\u4f7f\u7528 jigasi\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"docker compose -f docker-compose.yml -f jigasi.yml -f jibri.yml up -d\n"})}),"\n",(0,n.jsxs)(d.p,{children:["\u5bf9\u4e8e\u65e5\u5fd7\u5206\u6790\u9879\u76ee\uff0c\u60a8\u9700\u8981 ",(0,n.jsx)(d.code,{children:"log-analyser.yml"})," \u548c ",(0,n.jsx)(d.code,{children:"grafana.yml"})," \u6587\u4ef6\u3002\u8be5\u9879\u76ee\u5141\u8bb8\u60a8\u5728 grafana \u4e2d\u5206\u6790 Docker \u65e5\u5fd7\u3002\u5982\u679c\u60a8\u60f3\u8fd0\u884c\u65e5\u5fd7\u5206\u6790\u5668\uff0c\u8bf7\u6309\u4ee5\u4e0b\u547d\u4ee4\u8fd0\u884c Docker \u6587\u4ef6\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"docker-compose -f docker-compose.yml -f log-analyser.yml -f grafana.yml up -d\n"})}),"\n",(0,n.jsxs)(d.p,{children:["\u6709\u5173\u65e5\u5fd7\u5206\u6790\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 ",(0,n.jsx)(d.a,{href:"https://jitsi.github.io/handbook/docs/devops-guide/devops-guide-log-analyser",children:"\u6b64\u6587\u6863"}),"\u3002"]}),"\n",(0,n.jsx)(d.h3,{id:"\u66f4\u65b0",children:"\u66f4\u65b0"}),"\n",(0,n.jsx)(d.p,{children:"\u5982\u679c\u60a8\u60f3\u66f4\u65b0\uff0c\u53ea\u9700\u518d\u6b21\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"wget $(curl -s https://api.github.com/repos/jitsi/docker-jitsi-meet/releases/latest | grep 'zip' | cut -d\\\" -f4)\n"})}),"\n",(0,n.jsx)(d.p,{children:"\uff08\u5c31\u50cf\u6700\u521d\u4e0b\u8f7d Jitsi \u65f6\u4e00\u6837\uff09\u3002\u7136\u540e\u89e3\u538b\u5e76\u5728\u88ab\u8be2\u95ee\u65f6\u9009\u62e9\u8986\u76d6\u6240\u6709\u6587\u4ef6\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"unzip <filename>\n"})}),"\n",(0,n.jsx)(d.h3,{id:"\u6d4b\u8bd5\u5f00\u53d1\u4e0d\u7a33\u5b9a\u7248\u672c\u6784\u5efa",children:"\u6d4b\u8bd5\u5f00\u53d1/\u4e0d\u7a33\u5b9a\u7248\u672c\u6784\u5efa"}),"\n",(0,n.jsx)(d.p,{children:"\u4e0b\u8f7d\u6700\u65b0\u4ee3\u7801\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"git clone https://github.com/jitsi/docker-jitsi-meet && cd docker-jitsi-meet\n"})}),"\n",(0,n.jsx)(d.admonition,{type:"note",children:(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"master"})," \u5206\u652f\u7684\u4ee3\u7801\u8bbe\u8ba1\u4e3a\u4e0e\u4e0d\u7a33\u5b9a\u955c\u50cf\u4e00\u8d77\u4f7f\u7528\u3002\u8bf7\u52ff\u4e0e\u53d1\u884c\u7248\u955c\u50cf\u4e00\u8d77\u8fd0\u884c\u3002"]})}),"\n",(0,n.jsxs)(d.p,{children:["\u6309\u7167\u6b63\u5e38\u65b9\u5f0f\u8fd0\u884c ",(0,n.jsx)(d.code,{children:"docker compose up"}),"\u3002"]}),"\n",(0,n.jsx)(d.p,{children:"\u6bcf\u5929\u90fd\u4f1a\u4e0a\u4f20\u4e00\u4e2a\u65b0\u7684\u201c\u4e0d\u7a33\u5b9a\u201d\u955c\u50cf\u6784\u5efa\u7248\u672c\u3002"}),"\n",(0,n.jsx)(d.h3,{id:"\u6784\u5efa\u60a8\u81ea\u5df1\u7684\u955c\u50cf",children:"\u6784\u5efa\u60a8\u81ea\u5df1\u7684\u955c\u50cf"}),"\n",(0,n.jsx)(d.p,{children:"\u4e0b\u8f7d\u6700\u65b0\u4ee3\u7801\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"git clone https://github.com/jitsi/docker-jitsi-meet && cd docker-jitsi-meet\n"})}),"\n",(0,n.jsxs)(d.p,{children:["\u63d0\u4f9b\u7684 ",(0,n.jsx)(d.code,{children:"Makefile"})," \u63d0\u4f9b\u4e86\u4e00\u79cd\u5168\u9762\u7684\u65b9\u5f0f\u6765\u6784\u5efa\u6574\u4e2a\u5806\u6808\u6216\u5355\u4e2a\u955c\u50cf\u3002"]}),"\n",(0,n.jsx)(d.p,{children:"\u8981\u6784\u5efa\u6240\u6709\u955c\u50cf\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"make\n"})}),"\n",(0,n.jsx)(d.p,{children:"\u8981\u6784\u5efa\u7279\u5b9a\u7684\u955c\u50cf\uff08\u4f8b\u5982\uff0cWeb \u955c\u50cf\uff09\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"make build_web\n"})}),"\n",(0,n.jsxs)(d.p,{children:["\u4e00\u65e6\u60a8\u7684\u672c\u5730\u6784\u5efa\u5b8c\u6210\uff0c\u8bf7\u786e\u4fdd\u5c06 ",(0,n.jsx)(d.code,{children:"JITSI_IMAGE_VERSION=latest"})," \u6dfb\u52a0\u5230\u60a8\u7684 ",(0,n.jsx)(d.code,{children:".env"})," \u6587\u4ef6\u4e2d\u3002"]}),"\n",(0,n.jsx)(d.h3,{id:"\u5b89\u5168\u63d0\u793a",children:"\u5b89\u5168\u63d0\u793a"}),"\n",(0,n.jsx)(d.p,{children:"\u6b64\u8bbe\u7f6e\u66fe\u7ecf\u4e3a\u8de8\u7ec4\u4ef6\u4f7f\u7528\u7684\u5185\u90e8\u8d26\u6237\u63d0\u4f9b\u9ed8\u8ba4\u5bc6\u7801\u3002\u4e3a\u4e86\u4f7f\u9ed8\u8ba4\u8bbe\u7f6e\u5b89\u5168\uff0c\u9ed8\u8ba4\u5bc6\u7801\u5df2\u88ab\u5220\u9664\uff0c\u76f8\u5e94\u7684\u5bb9\u5668\u5728\u6ca1\u6709\u8bbe\u7f6e\u5bc6\u7801\u7684\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u542f\u52a8\u3002"}),"\n",(0,n.jsxs)(d.p,{children:["\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u751f\u6210\u5f3a\u5bc6\u7801\uff1a",(0,n.jsx)(d.code,{children:"./gen-passwords.sh"}),(0,n.jsx)(d.br,{}),"\n","\u8fd9\u5c06\u4fee\u6539\u60a8\u7684 ",(0,n.jsx)(d.code,{children:".env"})," \u6587\u4ef6\uff08\u4f1a\u4fdd\u5b58\u4e00\u4efd\u5907\u4efd\u5230 ",(0,n.jsx)(d.code,{children:".env.bak"})," \u4e2d\uff09\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u5fc5\u9700\u9009\u9879\u8bbe\u7f6e\u5f3a\u5bc6\u7801\u3002\u5bc6\u7801\u4f7f\u7528 ",(0,n.jsx)(d.code,{children:"openssl rand -hex 16"})," \u751f\u6210\u3002"]}),"\n",(0,n.jsx)(d.p,{children:(0,n.jsx)(d.strong,{children:"\u8bf7\u52ff\u91cd\u7528\u4efb\u4f55\u5bc6\u7801\u3002"})}),"\n",(0,n.jsx)(d.h2,{id:"\u67b6\u6784",children:"\u67b6\u6784"}),"\n",(0,n.jsx)(d.p,{children:"Jitsi Meet \u7684\u5b89\u88c5\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u7ec4\u4ef6\uff1a"}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsx)(d.li,{children:"Web \u754c\u9762"}),"\n",(0,n.jsx)(d.li,{children:"XMPP \u670d\u52a1\u5668"}),"\n",(0,n.jsx)(d.li,{children:"\u4f1a\u8bae\u7126\u70b9\u7ec4\u4ef6"}),"\n",(0,n.jsx)(d.li,{children:"\u89c6\u9891\u8def\u7531\u5668\uff08\u53ef\u4ee5\u6709\u591a\u4e2a\uff09"}),"\n",(0,n.jsx)(d.li,{children:"\u97f3\u9891\u901a\u8bdd\u7684 SIP \u7f51\u5173"}),"\n",(0,n.jsx)(d.li,{children:"\u7528\u4e8e\u5f55\u5236\u6216\u6d41\u5f0f\u4f20\u8f93\u4f1a\u8bae\u7684\u5e7f\u64ad\u57fa\u7840\u8bbe\u65bd"}),"\n"]}),"\n",(0,n.jsx)(d.p,{children:(0,n.jsx)(d.img,{src:s(5960).A+"",width:"882",height:"505"})}),"\n",(0,n.jsx)(d.p,{children:"\u8be5\u56fe\u663e\u793a\u4e86\u5728\u8fd0\u884c Docker \u7684\u4e3b\u673a\u4e0a\u7684\u5178\u578b\u90e8\u7f72\u3002\u6b64\u9879\u76ee\u5c06\u4e0a\u8ff0\u6bcf\u4e2a\u7ec4\u4ef6\u5206\u9694\u5230\u76f8\u4e92\u8fde\u63a5\u7684\u5bb9\u5668\u4e2d\u3002\u4e3a\u6b64\uff0c\u63d0\u4f9b\u4e86\u591a\u4e2a\u5bb9\u5668\u955c\u50cf\u3002"}),"\n",(0,n.jsx)(d.h3,{id:"\u5916\u90e8\u7aef\u53e3",children:"\u5916\u90e8\u7aef\u53e3"}),"\n",(0,n.jsx)(d.p,{children:"\u4ee5\u4e0b\u5916\u90e8\u7aef\u53e3\u5fc5\u987b\u5728\u9632\u706b\u5899\u4e0a\u6253\u5f00\uff1a"}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.code,{children:"80/tcp"})," \u7528\u4e8e Web UI HTTP\uff08\u5b9e\u9645\u4e0a\u53ea\u662f\u91cd\u5b9a\u5411\uff0c\u5728 ",(0,n.jsx)(d.code,{children:".env"})," \u6587\u4ef6\u4e2d\u53d6\u6d88\u6ce8\u91ca ",(0,n.jsx)(d.code,{children:"ENABLE_HTTP_REDIRECT=1"})," \u540e\uff09"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.code,{children:"443/tcp"})," \u7528\u4e8e Web UI HTTPS"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.code,{children:"10000/udp"})," \u7528\u4e8e UDP \u7684 RTP \u5a92\u4f53"]}),"\n"]}),"\n",(0,n.jsxs)(d.p,{children:["\u53e6\u5916 ",(0,n.jsx)(d.code,{children:"20000-20050/udp"})," \u7528\u4e8e jigasi\uff0c\u5982\u679c\u60a8\u9009\u62e9\u90e8\u7f72\u8be5\u7ec4\u4ef6\u4ee5\u65b9\u4fbf SIP \u8bbf\u95ee\u3002"]}),"\n",(0,n.jsx)(d.p,{children:"\u4f8b\u5982\uff0c\u5728 CentOS/Fedora \u670d\u52a1\u5668\u4e0a\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u6253\u5f00\u8fd9\u4e9b\u7aef\u53e3\uff08\u4e0d\u5305\u62ec SIP \u8bbf\u95ee\uff09\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"sudo firewall-cmd --permanent --add-port=80/tcp\nsudo firewall-cmd --permanent --add-port=443/tcp\nsudo firewall-cmd --permanent --add-port=10000/udp\nsudo firewall-cmd --reload\n"})}),"\n",(0,n.jsxs)(d.p,{children:["\u8bf7\u53c2\u9605 ",(0,n.jsx)(d.a,{href:"https://jitsi.github.io/handbook/docs/devops-guide/devops-guide-quickstart#setup-and-configure-your-firewall",children:"Debian/Ubuntu \u5b89\u88c5\u6307\u5357\u4e2d\u7684\u76f8\u5173\u90e8\u5206"}),"\u3002"]}),"\n",(0,n.jsx)(d.h3,{id:"\u955c\u50cf",children:"\u955c\u50cf"}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"base"}),": Debian \u7a33\u5b9a\u57fa\u7840\u955c\u50cf\uff0c\u5e26\u6709\u7528\u4e8e\u8fdb\u7a0b\u63a7\u5236\u7684 ",(0,n.jsx)(d.a,{href:"https://github.com/just-containers/s6-overlay",children:"S6 Overlay"})," \u548c\u542f\u7528\u7684 [Jitsi \u4ed3\u5e93]\u3002\u6240\u6709\u5176\u4ed6\u955c\u50cf\u90fd\u57fa\u4e8e\u6b64\u955c\u50cf\u3002"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"base-java"}),": \u4e0e\u4e0a\u8ff0\u76f8\u540c\uff0c\u53e6\u52a0 Java\uff08OpenJDK\uff09\u3002"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"web"}),": Jitsi Meet Web UI\uff0c\u901a\u8fc7 nginx \u63d0\u4f9b\u670d\u52a1\u3002"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"prosody"}),": ",(0,n.jsx)(d.a,{href:"https://prosody.im/",children:"Prosody"}),"\uff0cXMPP \u670d\u52a1\u5668\u3002"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"jicofo"}),": ",(0,n.jsx)(d.a,{href:"https://github.com/jitsi/jicofo",children:"Jicofo"}),"\uff0cXMPP \u7126\u70b9\u7ec4\u4ef6\u3002"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"jvb"}),": ",(0,n.jsx)(d.a,{href:"https://github.com/jitsi/jitsi-videobridge",children:"Jitsi Videobridge"}),"\uff0c\u89c6\u9891\u8def\u7531\u5668\u3002"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"jigasi"}),": ",(0,n.jsx)(d.a,{href:"https://github.com/jitsi/jigasi",children:"Jigasi"}),"\uff0cSIP\uff08\u4ec5\u97f3\u9891\uff09\u7f51\u5173\u3002"]}),"\n",(0,n.jsxs)(d.li,{children:[(0,n.jsx)(d.strong,{children:"jibri"}),": ",(0,n.jsx)(d.a,{href:"https://github.com/jitsi/jibri",children:"Jibri"}),"\uff0c\u5e7f\u64ad\u57fa\u7840\u8bbe\u65bd\u3002"]}),"\n"]}),"\n",(0,n.jsx)(d.h3,{id:"\u8bbe\u8ba1\u8003\u8651",children:"\u8bbe\u8ba1\u8003\u8651"}),"\n",(0,n.jsx)(d.p,{children:"Jitsi Meet \u4f7f\u7528 XMPP \u8fdb\u884c\u4fe1\u4ee4\uff0c\u56e0\u6b64\u9700\u8981 XMPP \u670d\u52a1\u5668\u3002\u7531\u8fd9\u4e9b\u5bb9\u5668\u63d0\u4f9b\u7684\u8bbe\u7f6e\u4e0d\u4f1a\u5c06 XMPP \u670d\u52a1\u5668\u66b4\u9732\u7ed9\u5916\u90e8\u4e16\u754c\u3002\u76f8\u53cd\uff0c\u5b83\u88ab\u5b8c\u5168\u5c01\u95ed\uff0cXMPP \u6d41\u91cf\u7684\u8def\u7531\u4ec5\u53d1\u751f\u5728\u7528\u6237\u5b9a\u4e49\u7684\u7f51\u7edc\u4e2d\u3002"}),"\n",(0,n.jsx)(d.p,{children:"XMPP \u670d\u52a1\u5668\u53ef\u4ee5\u66b4\u9732\u7ed9\u5916\u90e8\u4e16\u754c\uff0c\u4f46\u8fd9\u8d85\u51fa\u4e86\u672c\u9879\u76ee\u7684\u8303\u56f4\u3002"}),"\n",(0,n.jsx)(d.h2,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,n.jsxs)(d.p,{children:["\u914d\u7f6e\u901a\u8fc7\u5305\u542b\u5728 ",(0,n.jsx)(d.code,{children:".env"})," \u6587\u4ef6\u4e2d\u7684\u73af\u5883\u53d8\u91cf\u8fdb\u884c\u3002\u60a8\u53ef\u4ee5\u590d\u5236\u63d0\u4f9b\u7684 ",(0,n.jsx)(d.code,{children:"env.example"})," \u6587\u4ef6\u4f5c\u4e3a\u53c2\u8003\u3002"]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"CONFIG"})}),(0,n.jsx)(d.td,{children:"\u5b58\u50a8\u6240\u6709\u914d\u7f6e\u7684\u76ee\u5f55"}),(0,n.jsx)(d.td,{children:"/opt/jitsi-meet-cfg"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"TZ"})}),(0,n.jsx)(d.td,{children:"\u7cfb\u7edf\u65f6\u533a"}),(0,n.jsx)(d.td,{children:"Europe/Amsterdam"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"HTTP_PORT"})}),(0,n.jsx)(d.td,{children:"\u66b4\u9732\u7684 HTTP \u6d41\u91cf\u7aef\u53e3"}),(0,n.jsx)(d.td,{children:"8000"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"HTTPS_PORT"})}),(0,n.jsx)(d.td,{children:"\u66b4\u9732\u7684 HTTPS \u6d41\u91cf\u7aef\u53e3"}),(0,n.jsx)(d.td,{children:"8443"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JVB_ADVERTISE_IPS"})}),(0,n.jsx)(d.td,{children:"Docker \u4e3b\u673a\u7684 IP \u5730\u5740\uff08\u7528\u9017\u53f7\u5206\u9694\uff09\uff0c\u9002\u7528\u4e8e\u5c40\u57df\u7f51\u73af\u5883"}),(0,n.jsx)(d.td,{children:"192.168.1.1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"PUBLIC_URL"})}),(0,n.jsx)(d.td,{children:"\u7528\u4e8e web \u670d\u52a1\u7684\u516c\u5171 URL"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.a,{href:"https://meet.example.com",children:"https://meet.example.com"})})]})]})]}),"\n",(0,n.jsx)(d.p,{children:"\u8bd1\u8005\uff1a\u5927\u9646\u7528\u6237\u65f6\u533a\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\uff1aAsia/Shanghai"}),"\n",(0,n.jsx)(d.admonition,{type:"note",children:(0,n.jsx)(d.p,{children:"\u79fb\u52a8\u7aef\u5e94\u7528\u7a0b\u5e8f\u4e0d\u652f\u6301\u81ea\u7b7e\u540d\u8bc1\u4e66\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff09\u3002\u8bf7\u53c2\u9605\u4e0b\u6587\u4e86\u89e3\u5982\u4f55\u4f7f\u7528 Let\u2019s Encrypt \u83b7\u5f97\u6b63\u786e\u7684\u8bc1\u4e66\u3002"})}),"\n",(0,n.jsx)(d.h3,{id:"tls-\u914d\u7f6e",children:"TLS \u914d\u7f6e"}),"\n",(0,n.jsx)(d.h4,{id:"lets-encrypt-\u914d\u7f6e",children:"Let's Encrypt \u914d\u7f6e"}),"\n",(0,n.jsx)(d.p,{children:"\u5982\u679c\u60a8\u5e0c\u671b\u5c06 Jitsi Meet \u5b9e\u4f8b\u76f4\u63a5\u66b4\u9732\u7ed9\u5916\u90e8\u6d41\u91cf\uff0c\u4f46\u6ca1\u6709\u6709\u6548\u7684 TLS \u8bc1\u4e66\uff0c\u5e78\u8fd0\u7684\u662f\uff0cJitsi \u5df2\u5185\u7f6e\u4e86\u5bf9 Let\u2019s Encrypt \u7684\u652f\u6301\u3002\u4ee5\u4e0b\u662f\u6240\u9700\u7684\u9009\u9879\uff1a"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_LETSENCRYPT"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528 Let\u2019s Encrypt \u8bc1\u4e66\u751f\u6210"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LETSENCRYPT_DOMAIN"})}),(0,n.jsx)(d.td,{children:"\u8981\u4e3a\u5176\u751f\u6210\u8bc1\u4e66\u7684\u57df\u540d"}),(0,n.jsx)(d.td,{children:"meet.example.com"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LETSENCRYPT_EMAIL"})}),(0,n.jsx)(d.td,{children:"\u63a5\u6536\u91cd\u8981\u5e10\u6237\u901a\u77e5\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\uff08\u5fc5\u586b\u9879\uff09"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.a,{href:"mailto:alice@atlanta.net",children:"alice@atlanta.net"})})]})]})]}),"\n",(0,n.jsxs)(d.p,{children:["\u6b64\u5916\uff0c\u60a8\u9700\u8981\u5c06 ",(0,n.jsx)(d.code,{children:"HTTP_PORT"})," \u8bbe\u7f6e\u4e3a 80\uff0c\u5c06 ",(0,n.jsx)(d.code,{children:"HTTPS_PORT"})," \u8bbe\u7f6e\u4e3a 443\uff0c\u5e76\u5c06 ",(0,n.jsx)(d.code,{children:"PUBLIC_URL"})," \u8bbe\u7f6e\u4e3a\u60a8\u7684\u57df\u540d\u3002\u60a8\u8fd8\u53ef\u4ee5\u8003\u8651\u901a\u8fc7\u8bbe\u7f6e ",(0,n.jsx)(d.code,{children:"ENABLE_HTTP_REDIRECT=1"})," \u6765\u5c06 HTTP \u6d41\u91cf\u91cd\u5b9a\u5411\u5230 HTTPS\u3002"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.strong,{children:"Let\u2019s Encrypt \u9650\u5236\u63d0\u9192"}),"\uff1aLet\u2019s Encrypt \u5bf9\u60a8\u4e3a\u540c\u4e00\u57df\u540d\u63d0\u4ea4\u65b0\u8bc1\u4e66\u8bf7\u6c42\u7684\u6b21\u6570\u6709\u9650\u5236\u3002\u5f53\u524d\u7684\u9650\u5236\u662f\u6bcf 7 \u5929\u6700\u591a\u63d0\u4ea4 5 \u4e2a\u65b0\u8bc1\u4e66\u8bf7\u6c42\u3002\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u6253\u7b97\u5220\u9664 ",(0,n.jsx)(d.code,{children:".jitsi-meet-cfg"})," \u6587\u4ef6\u5939\uff0c\u5efa\u8bae\u60a8\u7981\u7528 ",(0,n.jsx)(d.code,{children:".env"})," \u4e2d\u7684 Let\u2019s Encrypt \u76f8\u5173\u73af\u5883\u53d8\u91cf\u3002\u6216\u8005\uff0c\u60a8\u53ef\u4ee5\u5c06 ",(0,n.jsx)(d.code,{children:".jitsi-meet-cfg"})," \u6587\u4ef6\u5939\u79fb\u52a8\u5230\u5176\u4ed6\u4f4d\u7f6e\uff0c\u4ee5\u4fbf\u5b89\u5168\u5730\u4fdd\u7559\u5df2\u7ecf\u9881\u53d1\u7684\u8bc1\u4e66\u3002\u6216\u8005\uff0c\u60a8\u53ef\u4ee5\u5148\u7981\u7528 Let\u2019s Encrypt \u8fdb\u884c\u521d\u6b65\u6d4b\u8bd5\uff0c\u7136\u540e\u5728\u6d4b\u8bd5\u5b8c\u6210\u540e\u518d\u542f\u7528 Let\u2019s Encrypt\u3002"]}),"\n",(0,n.jsx)(d.admonition,{type:"note",children:(0,n.jsxs)(d.p,{children:["\u5f53\u60a8\u4e0d\u518d\u4f7f\u7528 ",(0,n.jsx)(d.code,{children:"LETSENCRYPT_USE_STAGING"})," \u65f6\uff0c\u5fc5\u987b\u624b\u52a8\u6e05\u9664 ",(0,n.jsx)(d.code,{children:".jitsi-meet-cfg/web"})," \u4e2d\u7684\u8bc1\u4e66\u3002"]})}),"\n",(0,n.jsxs)(d.p,{children:["\u6709\u5173 Let\u2019s Encrypt \u9650\u5236\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u8bbf\u95ee\uff1a\n",(0,n.jsx)(d.a,{href:"https://letsencrypt.org/docs/rate-limits/",children:"https://letsencrypt.org/docs/rate-limits/"})]}),"\n",(0,n.jsx)(d.h4,{id:"\u4f7f\u7528\u73b0\u6709\u7684-tls-\u8bc1\u4e66\u548c\u5bc6\u94a5",children:"\u4f7f\u7528\u73b0\u6709\u7684 TLS \u8bc1\u4e66\u548c\u5bc6\u94a5"}),"\n",(0,n.jsx)(d.p,{children:"\u5982\u679c\u60a8\u62e5\u6709\u6709\u6548\u7684 TLS \u8bc1\u4e66\u5e76\u4e14\u4e0d\u9700\u8981\u4f7f\u7528 Let\u2019s Encrypt \u8bc1\u4e66\uff0c\u60a8\u53ef\u4ee5\u914d\u7f6e Jitsi Meet \u5bb9\u5668\u6765\u4f7f\u7528\u5b83\u3002"}),"\n",(0,n.jsxs)(d.p,{children:["\u4e0e Let\u2019s Encrypt \u8bc1\u4e66\u4e0d\u540c\uff0c\u6b64\u64cd\u4f5c\u4e0d\u662f\u901a\u8fc7 ",(0,n.jsx)(d.code,{children:".env"})," \u6587\u4ef6\u914d\u7f6e\u7684\uff0c\u800c\u662f\u901a\u8fc7\u544a\u77e5 Jitsi Meet \u7684 ",(0,n.jsx)(d.code,{children:"web"})," \u670d\u52a1\u6302\u8f7d\u4ee5\u4e0b\u4e24\u4e2a\u5377\uff1a"]}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:["\u5c06 ",(0,n.jsx)(d.code,{children:"/path/to/your/cert.key"})," \u6587\u4ef6\u6302\u8f7d\u5230 ",(0,n.jsx)(d.code,{children:"/config/keys/cert.key"})," \u6302\u8f7d\u70b9"]}),"\n",(0,n.jsxs)(d.li,{children:["\u5c06 ",(0,n.jsx)(d.code,{children:"/path/to/your/cert.fullchain"})," \u6587\u4ef6\u6302\u8f7d\u5230 ",(0,n.jsx)(d.code,{children:"/config/keys/cert.crt"})," \u6302\u8f7d\u70b9"]}),"\n"]}),"\n",(0,n.jsxs)(d.p,{children:["\u5728 ",(0,n.jsx)(d.code,{children:"docker-compose.yml"})," \u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u5982\u4e0b\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-yaml",children:"services:\n    web:\n        ...\n        volumes:\n            ...\n            - /path/to/your/cert.fullchain:/config/keys/cert.crt\n            - /path/to/your/cert.key:/config/keys/cert.key\n"})}),"\n",(0,n.jsx)(d.h3,{id:"\u529f\u80fd\u914d\u7f6econfigjs",children:"\u529f\u80fd\u914d\u7f6e\uff08config.js\uff09"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"TOOLBAR_BUTTONS"})}),(0,n.jsx)(d.td,{children:"\u914d\u7f6e\u5de5\u5177\u680f\u6309\u94ae\u3002\u6309\u94ae\u540d\u79f0\u4ee5\u9017\u53f7\u5206\u9694\uff08\u9017\u53f7\u4e4b\u95f4\u65e0\u7a7a\u683c\uff09"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"HIDE_PREMEETING_BUTTONS"})}),(0,n.jsx)(d.td,{children:"\u9690\u85cf\u4f1a\u524d\u5c4f\u5e55\u4e0a\u7684\u6309\u94ae\u3002\u6309\u94ae\u540d\u79f0\u4ee5\u9017\u53f7\u5206\u9694"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_LOBBY"})}),(0,n.jsx)(d.td,{children:"\u63a7\u5236\u662f\u5426\u542f\u7528\u5927\u5385\u529f\u80fd"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_AV_MODERATION"})}),(0,n.jsx)(d.td,{children:"\u63a7\u5236\u662f\u5426\u542f\u7528\u97f3\u89c6\u9891\u7ba1\u7406\u529f\u80fd"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_PREJOIN_PAGE"})}),(0,n.jsx)(d.td,{children:"\u8fdb\u5165\u4f1a\u8bae\u524d\u663e\u793a\u9884\u52a0\u5165\u9875\u9762"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_WELCOME_PAGE"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528\u6b22\u8fce\u9875\u9762"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_CLOSE_PAGE"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528\u5173\u95ed\u9875\u9762"}),(0,n.jsx)(d.td,{children:"0"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"DISABLE_AUDIO_LEVELS"})}),(0,n.jsx)(d.td,{children:"\u7981\u7528\u97f3\u9891\u7ea7\u522b\u6d4b\u91cf"}),(0,n.jsx)(d.td,{children:"0"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_NOISY_MIC_DETECTION"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528\u566a\u97f3\u9ea6\u514b\u98ce\u68c0\u6d4b"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_BREAKOUT_ROOMS"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528\u5206\u7ec4\u8ba8\u8bba\u5ba4"}),(0,n.jsx)(d.td,{children:"1"})]})]})]}),"\n",(0,n.jsx)(d.h3,{id:"jigasi-sip-\u7f51\u5173\u4ec5\u97f3\u9891\u914d\u7f6e",children:"Jigasi SIP \u7f51\u5173\uff08\u4ec5\u97f3\u9891\uff09\u914d\u7f6e"}),"\n",(0,n.jsx)(d.p,{children:"\u5982\u679c\u60a8\u5e0c\u671b\u542f\u7528 SIP \u7f51\u5173\uff0c\u4ee5\u4e0b\u9009\u9879\u662f\u5fc5\u9700\u7684\uff1a"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_SIP_URI"})}),(0,n.jsx)(d.td,{children:"\u7528\u4e8e\u6765\u7535/\u53bb\u7535\u7684 SIP URI"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.a,{href:"mailto:test@sip2sip.info",children:"test@sip2sip.info"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_SIP_PASSWORD"})}),(0,n.jsx)(d.td,{children:"\u6307\u5b9a SIP \u8d26\u53f7\u7684\u5bc6\u7801"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<unset>"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_SIP_SERVER"})}),(0,n.jsx)(d.td,{children:"SIP \u670d\u52a1\u5668\uff08\u4e0d\u786e\u5b9a\u65f6\u53ef\u4f7f\u7528 SIP \u8d26\u53f7\u7684\u57df\u540d\uff09"}),(0,n.jsx)(d.td,{children:"sip2sip.info"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_SIP_PORT"})}),(0,n.jsx)(d.td,{children:"SIP \u670d\u52a1\u5668\u7aef\u53e3"}),(0,n.jsx)(d.td,{children:"5060"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_SIP_TRANSPORT"})}),(0,n.jsx)(d.td,{children:"SIP \u4f20\u8f93\u534f\u8bae"}),(0,n.jsx)(d.td,{children:"UDP"})]})]})]}),"\n",(0,n.jsx)(d.h4,{id:"\u663e\u793a\u62e8\u5165\u4fe1\u606f",children:"\u663e\u793a\u62e8\u5165\u4fe1\u606f"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"DIALIN_NUMBERS_URL"})}),(0,n.jsx)(d.td,{children:"\u5305\u542b\u6240\u6709\u62e8\u5165\u53f7\u7801\u7684 JSON \u6587\u4ef6 URL"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.a,{href:"https://meet.example.com/dialin.json",children:"https://meet.example.com/dialin.json"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"CONFCODE_URL"})}),(0,n.jsx)(d.td,{children:"\u7528\u4e8e\u68c0\u67e5/\u751f\u6210\u62e8\u5165\u4ee3\u7801\u7684 API URL"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.a,{href:"https://jitsi-api.jitsi.net/conferenceMapper",children:"https://jitsi-api.jitsi.net/conferenceMapper"})})]})]})]}),"\n",(0,n.jsx)(d.p,{children:"\u62e8\u5165\u53f7\u7801\u7684 JSON \u6587\u4ef6\u5e94\u7c7b\u4f3c\u5982\u4e0b\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-json",children:'{"message":"Dial-In numbers:","numbers":{"DE": ["+49-721-0000-0000"]},"numbersEnabled":true}\n'})}),"\n",(0,n.jsx)(d.h3,{id:"\u4f7f\u7528-jibri-\u8fdb\u884c\u5f55\u5236\u76f4\u64ad\u914d\u7f6e",children:"\u4f7f\u7528 Jibri \u8fdb\u884c\u5f55\u5236/\u76f4\u64ad\u914d\u7f6e"}),"\n",(0,n.jsxs)(c,{children:[(0,n.jsxs)(d.p,{children:[(0,n.jsx)("summary",{children:"\u5982\u679c\u60a8\u4f7f\u7528\u7684\u7248\u672c\u4f4e\u4e8e 7439\uff0c\u5219\u9700\u8981\u4e00\u4e9b\u989d\u5916\u7684\u8bbe\u7f6e\u3002"}),"\n\u5728\u8fd0\u884c ",(0,n.jsx)(d.strong,{children:"\u7248\u672c\u4f4e\u4e8e 7439"})," \u7684 Jibri \u4e4b\u524d\uff0c\u60a8\u9700\u8981\u5728\u4e3b\u673a\u4e0a\u8bbe\u7f6e ALSA \u5faa\u73af\u8bbe\u5907\u3002\u8fd9 ",(0,n.jsx)(d.strong,{children:"\u4e0d"})," \u9002\u7528\u4e8e\u975e Linux \u4e3b\u673a\u3002"]}),(0,n.jsx)(d.p,{children:"\u5bf9\u4e8e CentOS 7\uff0c\u6a21\u5757\u5df2\u7ecf\u4e0e\u5185\u6838\u4e00\u8d77\u7f16\u8bd1\uff0c\u56e0\u6b64\u53ea\u9700\u56e0\u6b64\u53ea\u9700\u8fd0\u884c\uff1a"}),(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:'# \u914d\u7f6e 5 \u4e2a\u6355\u83b7/\u64ad\u653e\u63a5\u53e3\necho "options snd-aloop enable=1,1,1,1,1 index=0,1,2,3,4" > /etc/modprobe.d/alsa-loopback.conf\n# \u8bbe\u7f6e\u6a21\u5757\u81ea\u52a8\u52a0\u8f7d\necho "snd_aloop" > /etc/modules-load.d/snd_aloop.conf\n# \u52a0\u8f7d\u6a21\u5757\nmodprobe snd-aloop\n# \u68c0\u67e5\u6a21\u5757\u662f\u5426\u5df2\u52a0\u8f7d\nlsmod | grep snd_aloop\n'})}),(0,n.jsx)(d.p,{children:"\u5bf9\u4e8e Ubuntu\uff1a"}),(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:'# \u5b89\u88c5\u6a21\u5757\napt update && apt install linux-image-extra-virtual\n# \u914d\u7f6e 5 \u4e2a\u6355\u83b7/\u64ad\u653e\u63a5\u53e3\necho "options snd-aloop enable=1,1,1,1,1 index=0,1,2,3,4" > /etc/modprobe.d/alsa-loopback.conf\n# \u8bbe\u7f6e\u6a21\u5757\u81ea\u52a8\u52a0\u8f7d\necho "snd-aloop" >> /etc/modules\n# \u68c0\u67e5\u6a21\u5757\u662f\u5426\u5df2\u52a0\u8f7d\nlsmod | grep snd_aloop\n'})}),(0,n.jsx)(d.admonition,{type:"note",children:(0,n.jsx)(d.p,{children:"\u5982\u679c\u60a8\u5728 AWS \u4e0a\u8fd0\u884c\uff0c\u53ef\u80fd\u9700\u8981\u91cd\u542f\u673a\u5668\u4ee5\u4f7f\u7528\u901a\u7528\u5185\u6838\uff0c\u800c\u4e0d\u662f \u201caws\u201d \u5185\u6838\u3002\u5982\u679c\u91cd\u542f\u540e\u673a\u5668\u4ecd\u5728\u4f7f\u7528 \u201caws\u201d \u5185\u6838\uff0c\u60a8\u9700\u8981\u624b\u52a8\u66f4\u65b0 grub \u6587\u4ef6\u3002\u64cd\u4f5c\u5982\u4e0b\uff1a"})}),(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:'# \u7528\u7f16\u8f91\u5668\u6253\u5f00 grub \u6587\u4ef6\nnano /etc/default/grub\n# \u5c06 GRUB_DEFAULT \u7684\u503c\u4ece "0" \u4fee\u6539\u4e3a "1>2"\n# \u4fdd\u5b58\u5e76\u9000\u51fa\u6587\u4ef6\n\n# \u66f4\u65b0 grub\nupdate-grub\n# \u91cd\u542f\u673a\u5668\nreboot now\n'})}),(0,n.jsx)(d.p,{children:"\u5bf9\u4e8e\u591a\u5b9e\u4f8b Jibri\uff0c\u60a8\u9700\u8981\u4e3a\u6bcf\u4e2a\u5b9e\u4f8b\u624b\u52a8\u9009\u62e9\u4e0d\u540c\u7684\u5faa\u73af\u8bbe\u5907\u3002"}),(0,n.jsxs)(d.p,{children:["\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684 ",(0,n.jsx)(d.code,{children:".asoundrc"})," \u6587\u4ef6\u5982\u4e0b\uff1a"]}),(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{children:'...\nslave.pcm "hw:Loopback,0,0"\n...\nslave.pcm "hw:Loopback,0,1"\n...\nslave.pcm "hw:Loopback,1,1"\n...\nslave.pcm "hw:Loopback,1,0"\n...\n'})}),(0,n.jsxs)(d.p,{children:["\u8981\u8bbe\u7f6e\u7b2c\u4e8c\u4e2a\u5b9e\u4f8b\uff0c\u8fd0\u884c\u5bb9\u5668\u65f6\u66f4\u6539 ",(0,n.jsx)(d.code,{children:"/home/jibri/.asoundrc"})," \u6587\u4ef6\uff1a"]}),(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{children:'...\nslave.pcm "hw:Loopback_1,0,0"\n...\nslave.pcm "hw:Loopback_1,0,1"\n...\nslave.pcm "hw:Loopback_1,1,1"\n...\nslave.pcm "hw:Loopback_1,1,0"\n...\n'})}),(0,n.jsxs)(d.p,{children:["\u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528\u7f16\u53f7 id \u8bbe\u7f6e\u5faa\u73af\u8bbe\u5907\u3002\u7b2c\u4e09\u4e2a\u5b9e\u4f8b\u7684 ",(0,n.jsx)(d.code,{children:".asoundrc"})," \u6587\u4ef6\u5e94\u5982\u4e0b\uff1a"]}),(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{children:'...\nslave.pcm "hw:2,0,0"\n...\nslave.pcm "hw:2,0,1"\n...\nslave.pcm "hw:2,1,1"\n...\nslave.pcm "hw:2,1,0"\n...\n\n'})})]}),"\n",(0,n.jsx)(d.p,{children:"\u5982\u679c\u60a8\u60f3\u542f\u7528 Jibri\uff0c\u4ee5\u4e0b\u9009\u9879\u662f\u5fc5\u9700\u7684\uff1a"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsx)(d.tbody,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_RECORDING"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528\u5f55\u5236/\u76f4\u64ad"}),(0,n.jsx)(d.td,{children:"1"})]})})]}),"\n",(0,n.jsx)(d.p,{children:"Jibri \u6269\u5c55\u914d\u7f6e\uff1a"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIBRI_RECORDER_USER"})}),(0,n.jsx)(d.td,{children:"Jibri \u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u5185\u90e8\u5f55\u5236\u7528\u6237"}),(0,n.jsx)(d.td,{children:"recorder"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIBRI_RECORDER_PASSWORD"})}),(0,n.jsx)(d.td,{children:"Jibri \u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u5185\u90e8\u5f55\u5236\u5bc6\u7801"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<unset>"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIBRI_RECORDING_DIR"})}),(0,n.jsx)(d.td,{children:"Jibri \u5bb9\u5668\u5185\u7684\u5f55\u5236\u76ee\u5f55"}),(0,n.jsx)(d.td,{children:"/config/recordings"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIBRI_FINALIZE_RECORDING_SCRIPT_PATH"})}),(0,n.jsx)(d.td,{children:"\u5b8c\u6210\u5f55\u5236\u540e\u7684\u811a\u672c\u8def\u5f84\uff0c\u5c06\u5728\u5f55\u5236\u5b8c\u6210\u540e\u8fd0\u884c"}),(0,n.jsx)(d.td,{children:"/config/finalize.sh"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIBRI_XMPP_USER"})}),(0,n.jsx)(d.td,{children:"Jibri \u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u5185\u90e8\u7528\u6237"}),(0,n.jsx)(d.td,{children:"jibri"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIBRI_STRIP_DOMAIN_JID"})}),(0,n.jsx)(d.td,{children:"Jibri \u5185\u7684\u57df\u540d\u524d\u7f00\u5265\u79bb\uff08\u8be6\u60c5\u8bf7\u53c2\u9605 env.example \u6587\u4ef6\uff09"}),(0,n.jsx)(d.td,{children:"muc"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIBRI_BREWERY_MUC"})}),(0,n.jsx)(d.td,{children:"Jibri \u6c60\u7684 MUC \u540d\u79f0"}),(0,n.jsx)(d.td,{children:"jibribrewery"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIBRI_PENDING_TIMEOUT"})}),(0,n.jsx)(d.td,{children:"MUC \u8fde\u63a5\u8d85\u65f6\u65f6\u95f4"}),(0,n.jsx)(d.td,{children:"90"})]})]})]}),"\n",(0,n.jsx)(d.h3,{id:"jitsi-meet-\u914d\u7f6e",children:"Jitsi Meet \u914d\u7f6e"}),"\n",(0,n.jsxs)(d.p,{children:["Jitsi Meet \u4f7f\u7528\u4e24\u4e2a\u914d\u7f6e\u6587\u4ef6\u6765\u66f4\u6539 Web \u754c\u9762\u7684\u9ed8\u8ba4\u8bbe\u7f6e\uff1a",(0,n.jsx)(d.code,{children:"config.js"})," \u548c ",(0,n.jsx)(d.code,{children:"interface_config.js"}),"\u3002\u8fd9\u4e9b\u6587\u4ef6\u4f4d\u4e8e\u60a8\u73af\u5883\u6587\u4ef6\u4e2d\u914d\u7f6e\u7684 ",(0,n.jsx)(d.code,{children:"CONFIG/web/"})," \u76ee\u5f55\u4e2d\u3002"]}),"\n",(0,n.jsxs)(d.p,{children:["\u6bcf\u6b21\u5bb9\u5668\u91cd\u542f\u65f6\uff0c\u8fd9\u4e9b\u6587\u4ef6\u90fd\u4f1a\u91cd\u65b0\u521b\u5efa\u3002\u5982\u679c\u60a8\u60f3\u63d0\u4f9b\u81ea\u5df1\u7684\u8bbe\u7f6e\uff0c\u521b\u5efa\u81ea\u5df1\u7684\u914d\u7f6e\u6587\u4ef6 ",(0,n.jsx)(d.code,{children:"custom-config.js"})," \u548c ",(0,n.jsx)(d.code,{children:"custom-interface_config.js"})," \u5373\u53ef\u3002"]}),"\n",(0,n.jsx)(d.p,{children:"\u60a8\u53ea\u9700\u63d0\u4f9b\u76f8\u5173\u8bbe\u7f6e\uff0cDocker \u811a\u672c\u4f1a\u5c06\u60a8\u7684\u81ea\u5b9a\u4e49\u6587\u4ef6\u9644\u52a0\u5230\u9ed8\u8ba4\u6587\u4ef6\u4e2d\uff01"}),"\n",(0,n.jsx)(d.h3,{id:"\u8eab\u4efd\u9a8c\u8bc1",children:"\u8eab\u4efd\u9a8c\u8bc1"}),"\n",(0,n.jsx)(d.p,{children:"\u8eab\u4efd\u9a8c\u8bc1\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u73af\u5883\u53d8\u91cf\u8fdb\u884c\u63a7\u5236\u3002\u5982\u679c\u542f\u7528\u4e86\u8bbf\u5ba2\u8bbf\u95ee\uff0c\u672a\u7ecf\u8eab\u4efd\u9a8c\u8bc1\u7684\u7528\u6237\u9700\u8981\u7b49\u5f85\u5df2\u8ba4\u8bc1\u7528\u6237\u52a0\u5165\u540e\u624d\u80fd\u8fdb\u5165\u623f\u95f4\u3002\u5982\u679c\u672a\u542f\u7528\u8bbf\u5ba2\u8bbf\u95ee\uff0c\u6bcf\u4e2a\u7528\u6237\u90fd\u9700\u8981\u8ba4\u8bc1\u540e\u624d\u80fd\u52a0\u5165\u3002"}),"\n",(0,n.jsxs)(d.p,{children:["\u5982\u679c\u542f\u7528\u4e86\u8eab\u4efd\u9a8c\u8bc1\uff0c\u4e00\u65e6\u8ba4\u8bc1\u7528\u6237\u767b\u5f55\uff0c\u8be5\u7528\u6237\u5c06\u5728\u4f1a\u8bdd\u8d85\u65f6\u524d\u59cb\u7ec8\u4fdd\u6301\u767b\u5f55\u72b6\u6001\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e ",(0,n.jsx)(d.code,{children:"ENABLE_AUTO_LOGIN=0"})," \u6765\u7981\u7528\u9ed8\u8ba4\u7684\u81ea\u52a8\u767b\u5f55\u529f\u80fd\uff0c\u6216\u8005\u8bbe\u7f6e ",(0,n.jsx)(d.code,{children:"JICOFO_AUTH_LIFETIME"})," \u6765\u9650\u5236\u4f1a\u8bdd\u65f6\u957f\u3002"]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_AUTH"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_GUESTS"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528\u8bbf\u5ba2\u8bbf\u95ee"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"AUTH_TYPE"})}),(0,n.jsx)(d.td,{children:"\u9009\u62e9\u8eab\u4efd\u9a8c\u8bc1\u7c7b\u578b\uff08internal\u3001jwt \u6216 ldap\uff09"}),(0,n.jsx)(d.td,{children:"internal"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_AUTO_LOGIN"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528\u81ea\u52a8\u767b\u5f55"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JICOFO_AUTH_LIFETIME"})}),(0,n.jsx)(d.td,{children:"\u9009\u62e9\u8ba4\u8bc1\u7528\u6237\u7684\u4f1a\u8bdd\u8d85\u65f6\u503c"}),(0,n.jsx)(d.td,{children:"3 hours"})]})]})]}),"\n",(0,n.jsx)(d.h4,{id:"\u5185\u90e8\u8eab\u4efd\u9a8c\u8bc1",children:"\u5185\u90e8\u8eab\u4efd\u9a8c\u8bc1"}),"\n",(0,n.jsxs)(d.p,{children:["\u9ed8\u8ba4\u7684\u8eab\u4efd\u9a8c\u8bc1\u6a21\u5f0f\u662f ",(0,n.jsx)(d.code,{children:"internal"}),"\uff0c\u4f7f\u7528 XMPP \u51ed\u636e\u8ba4\u8bc1\u7528\u6237\u3002\u8981\u542f\u7528\u6b64\u529f\u80fd\uff0c\u9700\u8bbe\u7f6e ",(0,n.jsx)(d.code,{children:"ENABLE_AUTH"})," \u4e3a 1\uff0c\u5e76\u5c06 ",(0,n.jsx)(d.code,{children:"AUTH_TYPE"})," \u8bbe\u7f6e\u4e3a ",(0,n.jsx)(d.code,{children:"internal"}),"\uff0c\u7136\u540e\u914d\u7f6e\u4ee5\u4e0b\u8bbe\u7f6e\u3002"]}),"\n",(0,n.jsxs)(d.p,{children:["\u5185\u90e8\u7528\u6237\u5fc5\u987b\u901a\u8fc7 ",(0,n.jsx)(d.code,{children:"prosodyctl"})," \u5de5\u5177\u5728 ",(0,n.jsx)(d.code,{children:"prosody"})," \u5bb9\u5668\u4e2d\u521b\u5efa\u3002\u9996\u5148\uff0c\u8fdb\u5165\u5bf9\u5e94\u7684\u5bb9\u5668\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"docker compose exec prosody /bin/bash\n"})}),"\n",(0,n.jsx)(d.p,{children:"\u8fdb\u5165\u5bb9\u5668\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u7528\u6237\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"prosodyctl --config /config/prosody.cfg.lua register \u3010TheDesiredUsername\u3011 meet.jitsi \u3010TheDesiredPassword\u3011\n"})}),"\n",(0,n.jsx)(d.p,{children:"\u6ce8\u610f\uff0c\u547d\u4ee4\u4e0d\u4f1a\u4ea7\u751f\u4efb\u4f55\u8f93\u51fa\u3002"}),"\n",(0,n.jsx)(d.p,{children:"\u8981\u5220\u9664\u7528\u6237\uff0c\u8bf7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"prosodyctl --config /config/prosody.cfg.lua unregister \u3010TheDesiredUsername\u3011 meet.jitsi\n"})}),"\n",(0,n.jsx)(d.p,{children:"\u8981\u5217\u51fa\u6240\u6709\u7528\u6237\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"find /config/data/meet%2ejitsi/accounts -type f -exec basename {} .dat \\;\n"})}),"\n",(0,n.jsx)(d.h4,{id:"\u4f7f\u7528-ldap-\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1",children:"\u4f7f\u7528 LDAP \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1"}),"\n",(0,n.jsxs)(d.p,{children:["\u60a8\u53ef\u4ee5\u4f7f\u7528 LDAP \u8fdb\u884c\u7528\u6237\u8ba4\u8bc1\u3002\u8981\u542f\u7528\u6b64\u529f\u80fd\uff0c\u9700\u8bbe\u7f6e ",(0,n.jsx)(d.code,{children:"ENABLE_AUTH"})," \u4e3a 1\uff0c\u5e76\u5c06 ",(0,n.jsx)(d.code,{children:"AUTH_TYPE"})," \u8bbe\u7f6e\u4e3a ",(0,n.jsx)(d.code,{children:"ldap"}),"\uff0c\u7136\u540e\u914d\u7f6e\u4ee5\u4e0b\u8bbe\u7f6e\u3002"]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_URL"})}),(0,n.jsx)(d.td,{children:"LDAP \u8fde\u63a5\u7684 URL"}),(0,n.jsx)(d.td,{children:"ldaps://ldap.domain.com/"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_BASE"})}),(0,n.jsx)(d.td,{children:"LDAP \u57fa\u7840 DN\uff0c\u53ef\u4e3a\u7a7a"}),(0,n.jsx)(d.td,{children:"DC=example,DC=domain,DC=com"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_BINDDN"})}),(0,n.jsx)(d.td,{children:"LDAP \u7528\u6237 DN\uff0c\u4e0d\u6307\u5b9a\u6b64\u53c2\u6570\u5219\u4f7f\u7528\u533f\u540d\u7ed1\u5b9a"}),(0,n.jsx)(d.td,{children:"CN=binduser,OU=users,DC=example,DC=domain,DC=com"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_BINDPW"})}),(0,n.jsx)(d.td,{children:"LDAP \u7528\u6237\u5bc6\u7801\uff0c\u4e0d\u6307\u5b9a\u6b64\u53c2\u6570\u5219\u4f7f\u7528\u533f\u540d\u7ed1\u5b9a"}),(0,n.jsx)(d.td,{children:"LdapUserPassw0rd"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_FILTER"})}),(0,n.jsx)(d.td,{children:"LDAP \u8fc7\u6ee4\u5668"}),(0,n.jsx)(d.td,{children:"(sAMAccountName=%u)"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_AUTH_METHOD"})}),(0,n.jsx)(d.td,{children:"LDAP \u8ba4\u8bc1\u65b9\u6cd5"}),(0,n.jsx)(d.td,{children:"bind"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_VERSION"})}),(0,n.jsx)(d.td,{children:"LDAP \u534f\u8bae\u7248\u672c"}),(0,n.jsx)(d.td,{children:"3"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_USE_TLS"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528 LDAP TLS"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_TLS_CIPHERS"})}),(0,n.jsx)(d.td,{children:"\u8bbe\u7f6e\u5141\u8bb8\u7684 TLS \u5bc6\u7801\u5217\u8868"}),(0,n.jsxs)(d.td,{children:["SECURE256",":SECURE128"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_TLS_CHECK_PEER"})}),(0,n.jsx)(d.td,{children:"\u8981\u6c42\u5e76\u9a8c\u8bc1 LDAP \u670d\u52a1\u5668\u8bc1\u4e66"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_TLS_CACERT_FILE"})}),(0,n.jsx)(d.td,{children:"CA \u8bc1\u4e66\u6587\u4ef6\u8def\u5f84\uff0c\u542f\u7528\u670d\u52a1\u5668\u8bc1\u4e66\u9a8c\u8bc1\u65f6\u4f7f\u7528"}),(0,n.jsx)(d.td,{children:"/etc/ssl/certs/ca-certificates.crt"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_TLS_CACERT_DIR"})}),(0,n.jsx)(d.td,{children:"CA \u8bc1\u4e66\u76ee\u5f55\u8def\u5f84\uff0c\u542f\u7528\u670d\u52a1\u5668\u8bc1\u4e66\u9a8c\u8bc1\u65f6\u4f7f\u7528"}),(0,n.jsx)(d.td,{children:"/etc/ssl/certs"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LDAP_START_TLS"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528 START_TLS\uff0c\u9700 LDAPv3\uff0cURL \u5fc5\u987b\u4e3a ldap:// \u800c\u975e ldaps://"}),(0,n.jsx)(d.td,{children:"0"})]})]})]}),"\n",(0,n.jsx)(d.h4,{id:"\u4f7f\u7528-jwt-\u4ee4\u724c\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1",children:"\u4f7f\u7528 JWT \u4ee4\u724c\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1"}),"\n",(0,n.jsxs)(d.p,{children:["\u60a8\u53ef\u4ee5\u4f7f\u7528 JWT \u4ee4\u724c\u8ba4\u8bc1\u7528\u6237\u3002\u8981\u542f\u7528\u6b64\u529f\u80fd\uff0c\u9700\u8bbe\u7f6e ",(0,n.jsx)(d.code,{children:"ENABLE_AUTH"})," \u4e3a 1\uff0c\u5e76\u5c06 ",(0,n.jsx)(d.code,{children:"AUTH_TYPE"})," \u8bbe\u7f6e\u4e3a ",(0,n.jsx)(d.code,{children:"jwt"}),"\uff0c\u7136\u540e\u914d\u7f6e\u4ee5\u4e0b\u8bbe\u7f6e\u3002"]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JWT_APP_ID"})}),(0,n.jsx)(d.td,{children:"\u5e94\u7528\u6807\u8bc6\u7b26"}),(0,n.jsx)(d.td,{children:"my_jitsi_app_id"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JWT_APP_SECRET"})}),(0,n.jsx)(d.td,{children:"\u4ec5\u60a8\u7684\u4ee4\u724c\u77e5\u9053\u7684\u5e94\u7528\u5bc6\u94a5"}),(0,n.jsx)(d.td,{children:"my_jitsi_app_secret"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JWT_ACCEPTED_ISSUERS"})}),(0,n.jsx)(d.td,{children:"\uff08\u53ef\u9009\uff09\u8bbe\u7f6e asap_accepted_issuers \u4e3a\u9017\u53f7\u5206\u9694\u5217\u8868"}),(0,n.jsx)(d.td,{children:"my_web_client,my_app_client"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JWT_ACCEPTED_AUDIENCES"})}),(0,n.jsx)(d.td,{children:"\uff08\u53ef\u9009\uff09\u8bbe\u7f6e asap_accepted_audiences \u4e3a\u9017\u53f7\u5206\u9694\u5217\u8868"}),(0,n.jsx)(d.td,{children:"my_server1,my_server2"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JWT_ASAP_KEYSERVER"})}),(0,n.jsx)(d.td,{children:"\uff08\u53ef\u9009\uff09\u8bbe\u7f6e asap_keyserver \u4e3a\u4e00\u4e2a\u53ef\u7528\u4e8e\u67e5\u627e\u516c\u94a5\u7684 URL"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.a,{href:"https://example.com/asap%3E",children:"https://example.com/asap>"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JWT_ALLOW_EMPTY"})}),(0,n.jsx)(d.td,{children:"\uff08\u53ef\u9009\uff09\u5141\u8bb8\u6ca1\u6709 JWT \u7684\u533f\u540d\u7528\u6237\uff0c\u540c\u65f6\u9a8c\u8bc1\u63d0\u4f9b\u7684 JWT"}),(0,n.jsx)(d.td,{children:"0"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JWT_AUTH_TYPE"})}),(0,n.jsx)(d.td,{children:"\uff08\u53ef\u9009\uff09\u63a7\u5236\u7528\u4e8e\u5904\u7406\u4f20\u5165 JWT \u7684\u6a21\u5757"}),(0,n.jsx)(d.td,{children:"token"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JWT_TOKEN_AUTH_MODULE"})}),(0,n.jsx)(d.td,{children:"\uff08\u53ef\u9009\uff09\u63a7\u5236\u7528\u4e8e\u9a8c\u8bc1 JWT \u7684\u6a21\u5757"}),(0,n.jsx)(d.td,{children:"token_verification"})]})]})]}),"\n",(0,n.jsxs)(d.p,{children:["\u53ef\u4ee5\u4f7f\u7528 ",(0,n.jsx)(d.a,{href:"https://jwt.io/#debugger-io",children:"jwt.io"})," \u8c03\u8bd5\u5668\u8fdb\u884c\u6d4b\u8bd5\u3002\u4f7f\u7528\u4ee5\u4e0b\u793a\u4f8b payload\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-json",children:'{\n  "context": {\n    "user": {\n      "avatar": "https://robohash.org/john-doe",\n      "name": "John Doe",\n      "email": "jdoe@example.com"\n    }\n  },\n  "aud": "my_jitsi_app_id",\n  "iss": "my_jitsi_app_id",\n  "sub": "meet.jitsi",\n  "room": "*"\n}\n'})}),"\n",(0,n.jsx)(d.h4,{id:"\u4f7f\u7528-matrix-\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1",children:"\u4f7f\u7528 Matrix \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1"}),"\n",(0,n.jsxs)(d.p,{children:["\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u201cProsody Auth Matrix \u7528\u6237\u9a8c\u8bc1\u201d \u7684\u6587\u6863 ",(0,n.jsx)(d.a,{href:"https://github.com/matrix-org/prosody-mod-auth-matrix-user-verification",children:"\u8fd9\u91cc"}),"\u3002"]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"MATRIX_UVS_URL"})}),(0,n.jsx)(d.td,{children:"Matrix \u7528\u6237\u9a8c\u8bc1\u670d\u52a1\u7684\u57fa\u672c URL\uff08\u4e0d\u5e26\u659c\u6760\uff09"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"https://uvs.example.com:3000"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"MATRIX_UVS_ISSUER"})}),(0,n.jsxs)(d.td,{children:["\uff08\u53ef\u9009\uff09\u901a\u8fc7\u7684 auth token \u7684\u53d1\u884c\u8005\uff0c\u5fc5\u987b\u4e0e JWT \u4e2d\u7684 ",(0,n.jsx)(d.code,{children:"iss"})," \u5339\u914d"]}),(0,n.jsx)(d.td,{children:"issuer\uff08\u9ed8\u8ba4\uff09"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"MATRIX_UVS_AUTH_TOKEN"})}),(0,n.jsx)(d.td,{children:"\uff08\u53ef\u9009\uff09\u5982\u679c\u542f\u7528\u4e86\u8eab\u4efd\u9a8c\u8bc1\uff0c\u5219\u4e3a\u7528\u6237\u9a8c\u8bc1\u670d\u52a1\u7684 auth token"}),(0,n.jsx)(d.td,{children:"changeme"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"MATRIX_UVS_SYNC_POWER_LEVELS"})}),(0,n.jsx)(d.td,{children:"\uff08\u53ef\u9009\uff09\u4f7f Matrix \u623f\u95f4\u7684\u4e3b\u6301\u4eba\u6210\u4e3a Prosody \u623f\u95f4\u7684\u62e5\u6709\u8005"}),(0,n.jsx)(d.td,{children:"1"})]})]})]}),"\n",(0,n.jsx)(d.h4,{id:"\u4f7f\u7528\u6df7\u5408-matrix-\u4ee4\u724chybrid-matrix-token\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1",children:"\u4f7f\u7528\u6df7\u5408 Matrix \u4ee4\u724c\uff08Hybrid Matrix Token\uff09\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1"}),"\n",(0,n.jsxs)(d.p,{children:["\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,n.jsx)(d.code,{children:"Hybrid Matrix Token"})," \u8ba4\u8bc1\u7528\u6237\u3002\u5b83\u652f\u6301\u5728\u540c\u4e00\u8bbe\u7f6e\u4e2d\u4f7f\u7528 ",(0,n.jsx)(d.code,{children:"Matrix"})," \u548c ",(0,n.jsx)(d.code,{children:"JWT Token"})," \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002\u8981\u542f\u7528\u6b64\u529f\u80fd\uff0c\u9700\u8bbe\u7f6e ",(0,n.jsx)(d.code,{children:"ENABLE_AUTH"})," \u4e3a 1\uff0c\u5e76\u5c06 ",(0,n.jsx)(d.code,{children:"AUTH_TYPE"})," \u8bbe\u7f6e\u4e3a ",(0,n.jsx)(d.code,{children:"hybrid_matrix_token"}),"\uff0c\u7136\u540e\u914d\u7f6e\u4ee5\u4e0b\u8bbe\u7f6e\u3002"]}),"\n",(0,n.jsxs)(d.p,{children:["\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u201cHybrid Matrix Token\u201d \u7684\u6587\u6863 ",(0,n.jsx)(d.a,{href:"https://github.com/jitsi-contrib/prosody-plugins/tree/main/auth_hybrid_matrix_token",children:"\u8fd9\u91cc"}),"\u3002"]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"MATRIX_UVS_URL"})}),(0,n.jsx)(d.td,{children:"Matrix \u7528\u6237\u9a8c\u8bc1\u670d\u52a1\u7684\u57fa\u672c URL\uff08\u4e0d\u5e26\u659c\u6760\uff09"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"https://uvs.example.com:3000"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"MATRIX_UVS_ISSUER"})}),(0,n.jsxs)(d.td,{children:["\uff08\u53ef\u9009\uff09\u901a\u8fc7\u7684 auth token \u7684\u53d1\u884c\u8005\uff0c\u5fc5\u987b\u4e0e JWT \u4e2d\u7684 ",(0,n.jsx)(d.code,{children:"iss"})," \u5339\u914d"]}),(0,n.jsx)(d.td,{children:"my_issuer"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"MATRIX_UVS_AUTH_TOKEN"})}),(0,n.jsx)(d.td,{children:"\uff08\u53ef\u9009\uff09\u5982\u679c\u542f\u7528\u4e86\u8eab\u4efd\u9a8c\u8bc1\uff0c\u5219\u4e3a\u7528\u6237\u9a8c\u8bc1\u670d\u52a1\u7684 auth token"}),(0,n.jsx)(d.td,{children:"my_matrix_secret"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"MATRIX_UVS_SYNC_POWER_LEVELS"})}),(0,n.jsx)(d.td,{children:"\uff08\u53ef\u9009\uff09\u4f7f Matrix \u623f\u95f4\u7684\u4e3b\u6301\u4eba\u6210\u4e3a Prosody \u623f\u95f4\u7684\u62e5\u6709\u8005"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"MATRIX_LOBBY_BYPASS"})}),(0,n.jsx)(d.td,{children:"\uff08\u53ef\u9009\uff09\u5141\u8bb8 Matrix \u623f\u95f4\u6210\u5458\u7ed5\u8fc7 Jitsi \u5927\u5385\u68c0\u67e5"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JWT_APP_ID"})}),(0,n.jsx)(d.td,{children:"\u5e94\u7528\u6807\u8bc6\u7b26"}),(0,n.jsx)(d.td,{children:"my_jitsi_app_id"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JWT_APP_SECRET"})}),(0,n.jsx)(d.td,{children:"\u4ec5\u60a8\u7684\u4ee4\u724c\u77e5\u9053\u7684\u5e94\u7528\u5bc6\u94a5"}),(0,n.jsx)(d.td,{children:"my_jitsi_app_secret"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JWT_ALLOW_EMPTY"})}),(0,n.jsx)(d.td,{children:"\uff08\u53ef\u9009\uff09\u5141\u8bb8\u6ca1\u6709 JWT \u7684\u533f\u540d\u7528\u6237\uff0c\u540c\u65f6\u9a8c\u8bc1\u63d0\u4f9b\u7684 JWT"}),(0,n.jsx)(d.td,{children:"0"})]})]})]}),"\n",(0,n.jsx)(d.h4,{id:"\u5916\u90e8\u8eab\u4efd\u9a8c\u8bc1",children:"\u5916\u90e8\u8eab\u4efd\u9a8c\u8bc1"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsx)(d.tbody,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"TOKEN_AUTH_URL"})}),(0,n.jsx)(d.td,{children:"\u4f7f\u7528\u5916\u90e8\u670d\u52a1\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u6216\u4e13\u6ce8\u4e8e\u5df2\u5b58\u5728\u7684\u5916\u90e8\u8ba4\u8bc1\u7a97\u53e3"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.a,{href:"https://auth.meet.example.com/%7Broom%7D%3E",children:"https://auth.meet.example.com/{room}>"})})]})})]}),"\n",(0,n.jsx)(d.h3,{id:"\u4f7f\u7528-etherpad-\u8fdb\u884c\u6587\u6863\u534f\u4f5c\u7f16\u8f91",children:"\u4f7f\u7528 Etherpad \u8fdb\u884c\u6587\u6863\u534f\u4f5c\u7f16\u8f91"}),"\n",(0,n.jsxs)(d.p,{children:["\u60a8\u53ef\u4ee5\u901a\u8fc7 ",(0,n.jsx)(d.a,{href:"https://github.com/ether/etherpad-lite",children:"Etherpad"})," \u8fdb\u884c\u534f\u4f5c\u7f16\u8f91\u6587\u6863\u3002\u8981\u542f\u7528\u5b83\uff0c\u8bf7\u8bbe\u7f6e\u4ee5\u4e0b\u914d\u7f6e\u9009\u9879\uff0c\u5e76\u4f7f\u7528\u989d\u5916\u7684\u914d\u7f6e\u6587\u4ef6 ",(0,n.jsx)(d.code,{children:"etherpad.yml"})," \u8fd0\u884c Docker Compose\u3002"]}),"\n",(0,n.jsx)(d.p,{children:"\u4ee5\u4e0b\u662f\u6240\u9700\u9009\u9879\uff1a"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsx)(d.tbody,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ETHERPAD_URL_BASE"})}),(0,n.jsx)(d.td,{children:"\u8bbe\u7f6e etherpad-lite \u7684 URL"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"http://etherpad.meet.jitsi:9001"})})]})})]}),"\n",(0,n.jsx)(d.h3,{id:"\u8f6c\u5f55\u529f\u80fd\u914d\u7f6e",children:"\u8f6c\u5f55\u529f\u80fd\u914d\u7f6e"}),"\n",(0,n.jsx)(d.p,{children:"\u5982\u679c\u60a8\u60f3\u542f\u7528\u8f6c\u5f55\u529f\u80fd\uff0c\u9700\u8981\u4ee5\u4e0b\u9009\u9879\uff1a"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u793a\u4f8b"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_TRANSCRIPTIONS"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528\u4f1a\u8bae\u4e2d\u7684 Jigasi \u8f6c\u5f55\u529f\u80fd"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"GC_PROJECT_ID"})}),(0,n.jsxs)(d.td,{children:["\u6765\u81ea Google Cloud \u51ed\u636e\u7684 ",(0,n.jsx)(d.code,{children:"project_id"})]}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"GC_PRIVATE_KEY_ID"})}),(0,n.jsxs)(d.td,{children:["\u6765\u81ea Google Cloud \u51ed\u636e\u7684 ",(0,n.jsx)(d.code,{children:"private_key_id"})]}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"GC_PRIVATE_KEY"})}),(0,n.jsxs)(d.td,{children:["\u6765\u81ea Google Cloud \u51ed\u636e\u7684 ",(0,n.jsx)(d.code,{children:"private_key"})]}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"GC_CLIENT_EMAIL"})}),(0,n.jsxs)(d.td,{children:["\u6765\u81ea Google Cloud \u51ed\u636e\u7684 ",(0,n.jsx)(d.code,{children:"client_email"})]}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"GC_CLIENT_ID"})}),(0,n.jsxs)(d.td,{children:["\u6765\u81ea Google Cloud \u51ed\u636e\u7684 ",(0,n.jsx)(d.code,{children:"client_id"})]}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"GC_CLIENT_CERT_URL"})}),(0,n.jsxs)(d.td,{children:["\u6765\u81ea Google Cloud \u51ed\u636e\u7684 ",(0,n.jsx)(d.code,{children:"client_x509_cert_url"})]}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_TRANSCRIBER_RECORD_AUDIO"})}),(0,n.jsx)(d.td,{children:"\u5f53\u8f6c\u5f55\u5668\u5f00\u542f\u65f6\uff0cJigasi \u4f1a\u5f55\u5236\u97f3\u9891"}),(0,n.jsx)(d.td,{children:"true"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_TRANSCRIBER_SEND_TXT"})}),(0,n.jsx)(d.td,{children:"\u5f53\u8f6c\u5f55\u5668\u5f00\u542f\u65f6\uff0cJigasi \u4f1a\u5c06\u8f6c\u5f55\u6587\u672c\u53d1\u9001\u5230\u804a\u5929"}),(0,n.jsx)(d.td,{children:"true"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_TRANSCRIBER_ADVERTISE_URL"})}),(0,n.jsx)(d.td,{children:"Jigasi \u4f1a\u5c06\u8f6c\u5f55\u6587\u4ef6\u7684\u94fe\u63a5\u53d1\u5e03\u5230\u804a\u5929"}),(0,n.jsx)(d.td,{children:"true"})]})]})]}),"\n",(0,n.jsxs)(d.p,{children:["\u6709\u5173\u8bbe\u7f6e Google Cloud \u51ed\u636e\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 ",(0,n.jsx)(d.a,{href:"https://cloud.google.com/text-to-speech/docs/quickstart-protocol%3E",children:"https://cloud.google.com/text-to-speech/docs/quickstart-protocol>"}),' \u4e2d\u7684 "Before you begin" \u90e8\u5206\u7684\u7b2c 1 \u5230 5 \u6bb5\u3002']}),"\n",(0,n.jsx)(d.h3,{id:"sentry-\u65e5\u5fd7\u914d\u7f6e",children:"Sentry \u65e5\u5fd7\u914d\u7f6e"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JVB_SENTRY_DSN"})}),(0,n.jsx)(d.td,{children:"Sentry \u6570\u636e\u6e90\u540d\u79f0\uff08Sentry \u9879\u76ee\u7684\u7aef\u70b9\uff09"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"https://public:private@host:port/1"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JICOFO_SENTRY_DSN"})}),(0,n.jsx)(d.td,{children:"Sentry \u6570\u636e\u6e90\u540d\u79f0\uff08Sentry \u9879\u76ee\u7684\u7aef\u70b9\uff09"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"https://public:private@host:port/1"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_SENTRY_DSN"})}),(0,n.jsx)(d.td,{children:"Sentry \u6570\u636e\u6e90\u540d\u79f0\uff08Sentry \u9879\u76ee\u7684\u7aef\u70b9\uff09"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"https://public:private@host:port/1"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"SENTRY_ENVIRONMENT"})}),(0,n.jsx)(d.td,{children:"\u53ef\u9009\u7684\u73af\u5883\u4fe1\u606f\uff0c\u7528\u4e8e\u8fc7\u6ee4\u4e8b\u4ef6"}),(0,n.jsx)(d.td,{children:"production"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"SENTRY_RELEASE"})}),(0,n.jsx)(d.td,{children:"\u53ef\u9009\u7684\u7248\u672c\u4fe1\u606f\uff0c\u7528\u4e8e\u8fc7\u6ee4\u4e8b\u4ef6"}),(0,n.jsx)(d.td,{children:"1.0.0"})]})]})]}),"\n",(0,n.jsx)(d.h3,{id:"turn-\u670d\u52a1\u5668\u914d\u7f6e",children:"TURN \u670d\u52a1\u5668\u914d\u7f6e"}),"\n",(0,n.jsx)(d.p,{children:"\u914d\u7f6e\u5916\u90e8 TURN \u670d\u52a1\u5668\u3002"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"TURN_CREDENTIALS"})}),(0,n.jsx)(d.td,{children:"TURN \u670d\u52a1\u5668\u7684\u51ed\u636e"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"TURN_HOST"})}),(0,n.jsx)(d.td,{children:"TURN \u670d\u52a1\u5668\u4e3b\u673a\u540d\uff0c\u4f7f\u7528\u9017\u53f7\u5206\u9694\u7684\u5217\u8868\uff08UDP \u6216 TCP \u4f20\u8f93\uff09"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"TURN_PORT"})}),(0,n.jsx)(d.td,{children:"TURN \u670d\u52a1\u5668\u7aef\u53e3\uff08UDP \u6216 TCP \u4f20\u8f93\uff09"}),(0,n.jsx)(d.td,{children:"443"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"TURN_TRANSPORT"})}),(0,n.jsx)(d.td,{children:"TURN \u670d\u52a1\u5668\u534f\u8bae\uff0c\u4f7f\u7528\u9017\u53f7\u5206\u9694\u7684\u5217\u8868\uff08UDP \u6216 TCP \u6216\u4e24\u8005\uff09"}),(0,n.jsx)(d.td,{children:"tcp"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"TURNS_HOST"})}),(0,n.jsx)(d.td,{children:"TURN \u670d\u52a1\u5668\u4e3b\u673a\u540d\uff0c\u4f7f\u7528\u9017\u53f7\u5206\u9694\u7684\u5217\u8868\uff08TLS \u4f20\u8f93\uff09"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"TURNS_PORT"})}),(0,n.jsx)(d.td,{children:"TURN \u670d\u52a1\u5668\u7aef\u53e3\uff08TLS \u4f20\u8f93\uff09"}),(0,n.jsx)(d.td,{children:"443"})]})]})]}),"\n",(0,n.jsx)(d.h3,{id:"\u9ad8\u7ea7\u914d\u7f6e",children:"\u9ad8\u7ea7\u914d\u7f6e"}),"\n",(0,n.jsx)(d.p,{children:"\u8fd9\u4e9b\u914d\u7f6e\u9009\u9879\u5df2\u9884\u8bbe\uff0c\u901a\u5e38\u65e0\u9700\u66f4\u6539\u3002"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"XMPP_DOMAIN"})}),(0,n.jsx)(d.td,{children:"\u5185\u90e8 XMPP \u57df"}),(0,n.jsx)(d.td,{children:"meet.jitsi"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"XMPP_AUTH_DOMAIN"})}),(0,n.jsx)(d.td,{children:"\u8ba4\u8bc1\u670d\u52a1\u7684\u5185\u90e8 XMPP \u57df"}),(0,n.jsx)(d.td,{children:"auth.meet.jitsi"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"XMPP_SERVER"})}),(0,n.jsx)(d.td,{children:"\u5185\u90e8 XMPP \u670d\u52a1\u5668\u540d\u79f0 xmpp.meet.jitsi"}),(0,n.jsx)(d.td,{children:"xmpp.meet.jitsi"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"XMPP_BOSH_URL_BASE"})}),(0,n.jsx)(d.td,{children:"BOSH \u6a21\u5757\u7684\u5185\u90e8 XMPP \u670d\u52a1\u5668 URL"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"http://xmpp.meet.jitsi:5280"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"XMPP_MUC_DOMAIN"})}),(0,n.jsx)(d.td,{children:"MUC \u7684 XMPP \u57df"}),(0,n.jsx)(d.td,{children:"muc.meet.jitsi"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"XMPP_INTERNAL_MUC_DOMAIN"})}),(0,n.jsx)(d.td,{children:"\u5185\u90e8 MUC \u7684 XMPP \u57df"}),(0,n.jsx)(d.td,{children:"internal-muc.meet.jitsi"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"XMPP_GUEST_DOMAIN"})}),(0,n.jsx)(d.td,{children:"\u672a\u8ba4\u8bc1\u7528\u6237\u7684 XMPP \u57df"}),(0,n.jsx)(d.td,{children:"guest.meet.jitsi"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"XMPP_RECORDER_DOMAIN"})}),(0,n.jsx)(d.td,{children:"jibri \u5f55\u5236\u5668\u7684\u57df"}),(0,n.jsx)(d.td,{children:"recorder.meet.jitsi"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"XMPP_MODULES"})}),(0,n.jsx)(d.td,{children:"XMPP_DOMAIN \u7684\u81ea\u5b9a\u4e49 Prosody \u6a21\u5757\uff08\u9017\u53f7\u5206\u9694\uff09"}),(0,n.jsx)(d.td,{children:"info,alert"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"XMPP_MUC_MODULES"})}),(0,n.jsx)(d.td,{children:"MUC \u7ec4\u4ef6\u7684\u81ea\u5b9a\u4e49 Prosody \u6a21\u5757\uff08\u9017\u53f7\u5206\u9694\uff09"}),(0,n.jsx)(d.td,{children:"info,alert"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"XMPP_INTERNAL_MUC_MODULES"})}),(0,n.jsx)(d.td,{children:"\u5185\u90e8 MUC \u7ec4\u4ef6\u7684\u81ea\u5b9a\u4e49 Prosody \u6a21\u5757\uff08\u9017\u53f7\u5206\u9694\uff09"}),(0,n.jsx)(d.td,{children:"info,alert"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"GLOBAL_MODULES"})}),(0,n.jsx)(d.td,{children:"\u81ea\u5b9a\u4e49\u7684 prosody \u6a21\u5757\uff0c\u5728\u5168\u5c40\u914d\u7f6e\u4e2d\u52a0\u8f7d\uff08\u9017\u53f7\u5206\u9694\uff09"}),(0,n.jsx)(d.td,{children:"statistics,alert"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"GLOBAL_CONFIG"})}),(0,n.jsx)(d.td,{children:"\u5177\u6709\u8f6c\u4e49\u6362\u884c\u7b26\u7684\u81ea\u5b9a\u4e49\u914d\u7f6e\u5b57\u7b26\u4e32"}),(0,n.jsx)(d.td,{children:"foo = bar;\\nkey = val;"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"RESTART_POLICY"})}),(0,n.jsx)(d.td,{children:"\u5bb9\u5668\u91cd\u542f\u7b56\u7565"}),(0,n.jsxs)(d.td,{children:["\u9ed8\u8ba4\u503c\u4e3a ",(0,n.jsx)(d.code,{children:"unless-stopped"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"DISABLE_HTTPS"})}),(0,n.jsx)(d.td,{children:"\u5904\u7406\u6b64\u8bbe\u7f6e\u4e4b\u5916\u7684 TLS \u8fde\u63a5"}),(0,n.jsx)(d.td,{children:"0"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_HTTP_REDIRECT"})}),(0,n.jsx)(d.td,{children:"\u5c06 HTTP \u6d41\u91cf\u91cd\u5b9a\u5411\u5230 HTTPS"}),(0,n.jsx)(d.td,{children:"0"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"LOG_LEVEL"})}),(0,n.jsx)(d.td,{children:"\u63a7\u5236 prosody \u548c\u76f8\u5173\u6a21\u5757\u8f93\u51fa\u7684\u65e5\u5fd7\u7ea7\u522b"}),(0,n.jsx)(d.td,{children:"info"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_HSTS"})}),(0,n.jsxs)(d.td,{children:["\u53d1\u9001 ",(0,n.jsx)(d.code,{children:"strict-transport-security"})," \u5934\u4ee5\u5f3a\u5236\u6d4f\u89c8\u5668\u4f7f\u7528\u5b89\u5168\u548c\u53d7\u4fe1\u4efb\u7684\u8fde\u63a5\u3002\u5efa\u8bae\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u3002"]}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_IPV6"})}),(0,n.jsx)(d.td,{children:"\u63d0\u4f9b\u5728\u4e0d\u652f\u6301 IPv6 \u7684\u73af\u5883\u4e2d\u7981\u7528 IPv6 \u7684\u65b9\u5f0f"}),(0,n.jsx)(d.td,{children:"1"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_COLIBRI_WEBSOCKET_UNSAFE_REGEX"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528\u65e7\u7248\u4e0d\u5b89\u5168\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u7528\u4e8e JVB colibri-ws URL\u3002\u8b66\u544a\uff1a\u8c28\u614e\u542f\u7528\uff0c\u6b64\u6b63\u5219\u8868\u8fbe\u5f0f\u5141\u8bb8\u8fde\u63a5\u4efb\u610f\u5185\u90e8 IP \u5730\u5740\uff0c\u4e0d\u5efa\u8bae\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u3002\u4e0d\u5b89\u5168\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5b9a\u4e49\u4e3a"}),(0,n.jsx)(d.td,{children:"0"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"COLIBRI_WEBSOCKET_JVB_LOOKUP_NAME"})}),(0,n.jsxs)(d.td,{children:["\u67e5\u627e JVB IP \u5730\u5740\u7684 DNS \u540d\u79f0\uff0c\u7528\u4e8e ",(0,n.jsx)(d.code,{children:"COLIBRI_WEBSOCKET_REGEX"})," \u7684\u9ed8\u8ba4\u503c"]}),(0,n.jsx)(d.td,{children:"jvb"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"COLIBRI_WEBSOCKET_REGEX"})}),(0,n.jsx)(d.td,{children:"\u91cd\u5199\u7528\u4e8e\u4ee3\u7406\u5230 JVB \u7684 colibri \u6b63\u5219\u8868\u8fbe\u5f0f\u3002\u5efa\u8bae\u5728\u751f\u4ea7\u4e2d\u7528\u5339\u914d\u53ef\u80fd JVB IP \u8303\u56f4\u7684\u503c\u8986\u76d6"}),(0,n.jsxs)(d.td,{children:["\u9ed8\u8ba4\u662f ",(0,n.jsx)(d.code,{children:"dig $COLIBRI_WEBSOCKET_JVB_LOOKUP_NAME"})," \u9664\u975e ",(0,n.jsx)(d.code,{children:"DISABLE_COLIBRI_WEBSOCKET_JVB_LOOKUP"})," \u88ab\u8bbe\u7f6e\u4e3a true"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"DISABLE_COLIBRI_WEBSOCKET_JVB_LOOKUP"})}),(0,n.jsxs)(d.td,{children:["\u63a7\u5236\u5728\u5b9a\u4e49 ",(0,n.jsx)(d.code,{children:"COLIBRI_WEBSOCKET_REGEX"})," \u65f6\u662f\u5426\u8fd0\u884c ",(0,n.jsx)(d.code,{children:"dig $COLIBRI_WEBSOCKET_JVB_LOOKUP_NAME"})]}),(0,n.jsx)(d.td,{children:"0"})]})]})]}),"\n",(0,n.jsx)(d.h4,{id:"\u9ad8\u7ea7-prosody-\u9009\u9879",children:"\u9ad8\u7ea7 Prosody \u9009\u9879"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"PROSODY_RESERVATION_ENABLED"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528 Prosody \u7684\u9884\u7559 REST API"}),(0,n.jsx)(d.td,{children:"false"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"PROSODY_RESERVATION_REST_BASE_URL"})}),(0,n.jsx)(d.td,{children:"Prosody \u7684\u9884\u7559 REST API \u7684\u57fa\u672c URL"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"PROSODY_AUTH_TYPE"})}),(0,n.jsx)(d.td,{children:"\u4e3a Prosody \u9009\u62e9\u8ba4\u8bc1\u7c7b\u578b\uff08internal\u3001jwt \u6216 ldap\uff09"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"AUTH_TYPE"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"PROSODY_ENABLE_METRICS"})}),(0,n.jsxs)(d.td,{children:["\u542f\u7528 http_openmetrics \u6a21\u5757\uff0c\u5728 ",(0,n.jsx)(d.code,{children:"/metrics"})," \u5904\u516c\u5f00 Prometheus \u6307\u6807"]}),(0,n.jsx)(d.td,{children:"false"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"PROSODY_METRICS_ALLOWED_CIDR"})}),(0,n.jsx)(d.td,{children:"\u5141\u8bb8\u8bbf\u95ee\u6307\u6807\u7684 CIDR \u5757"}),(0,n.jsx)(d.td,{children:"172.16.0.0/12"})]})]})]}),"\n",(0,n.jsx)(d.h4,{id:"\u9ad8\u7ea7-jicofo-\u9009\u9879",children:"\u9ad8\u7ea7 Jicofo \u9009\u9879"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JICOFO_COMPONENT_SECRET"})}),(0,n.jsx)(d.td,{children:"Jicofo \u7684 XMPP \u7ec4\u4ef6\u5bc6\u7801"}),(0,n.jsx)(d.td,{children:"s3cr37"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JICOFO_AUTH_USER"})}),(0,n.jsx)(d.td,{children:"Jicofo \u5ba2\u6237\u7aef\u8fde\u63a5\u7684 XMPP \u7528\u6237"}),(0,n.jsx)(d.td,{children:"focus"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JICOFO_AUTH_PASSWORD"})}),(0,n.jsx)(d.td,{children:"Jicofo \u5ba2\u6237\u7aef\u8fde\u63a5\u7684 XMPP \u5bc6\u7801"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<unset>"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JICOFO_ENABLE_AUTH"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528 Jicofo \u7684\u8ba4\u8bc1"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"ENABLE_AUTH"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JICOFO_AUTH_TYPE"})}),(0,n.jsx)(d.td,{children:"\u4e3a Jicofo \u9009\u62e9\u8ba4\u8bc1\u7c7b\u578b\uff08internal\u3001jwt \u6216 ldap\uff09"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"AUTH_TYPE"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JICOFO_AUTH_LIFETIME"})}),(0,n.jsx)(d.td,{children:"\u9009\u62e9\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u7528\u6237\u7684\u4f1a\u8bdd\u8d85\u65f6\u503c"}),(0,n.jsx)(d.td,{children:"24 hours"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JICOFO_ENABLE_HEALTH_CHECKS"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528 Jicofo \u5185\u90e8\u5065\u5eb7\u68c0\u67e5\uff0c\u5141\u8bb8\u4f7f\u7528 REST API \u68c0\u67e5 Jicofo \u7684\u72b6\u6001"}),(0,n.jsx)(d.td,{children:"false"})]})]})]}),"\n",(0,n.jsx)(d.h4,{id:"\u9ad8\u7ea7-jvb-\u9009\u9879",children:"\u9ad8\u7ea7 JVB \u9009\u9879"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JVB_AUTH_USER"})}),(0,n.jsx)(d.td,{children:"JVB MUC \u5ba2\u6237\u7aef\u8fde\u63a5\u7684 XMPP \u7528\u6237"}),(0,n.jsx)(d.td,{children:"jvb"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JVB_AUTH_PASSWORD"})}),(0,n.jsx)(d.td,{children:"JVB MUC \u5ba2\u6237\u7aef\u8fde\u63a5\u7684 XMPP \u5bc6\u7801"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<unset>"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JVB_STUN_SERVERS"})}),(0,n.jsx)(d.td,{children:"\u7528\u4e8e\u53d1\u73b0\u670d\u52a1\u5668\u516c\u5171 IP \u7684 STUN \u670d\u52a1\u5668"}),(0,n.jsx)(d.td,{children:"stun.l.google.com:19302, stun1.l.google.com:19302, stun2.l.google.com:19302"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JVB_PORT"})}),(0,n.jsx)(d.td,{children:"Jitsi Videobridge \u4f7f\u7528\u7684\u5a92\u4f53 UDP \u7aef\u53e3"}),(0,n.jsx)(d.td,{children:"10000"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JVB_COLIBRI_PORT"})}),(0,n.jsx)(d.td,{children:"JVB \u66b4\u9732\u7ed9\u672c\u5730\u4e3b\u673a\u7684 COLIBRI REST API \u7aef\u53e3"}),(0,n.jsx)(d.td,{children:"8080"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JVB_BREWERY_MUC"})}),(0,n.jsx)(d.td,{children:"JVB \u6c60\u7684 MUC \u540d\u79f0"}),(0,n.jsx)(d.td,{children:"jvbbrewery"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"COLIBRI_REST_ENABLED"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528 COLIBRI REST API"}),(0,n.jsx)(d.td,{children:"true"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"SHUTDOWN_REST_ENABLED"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528\u5173\u95ed REST API"}),(0,n.jsx)(d.td,{children:"true"})]})]})]}),"\n",(0,n.jsx)(d.h4,{id:"\u9ad8\u7ea7-jigasi-\u9009\u9879",children:"\u9ad8\u7ea7 Jigasi \u9009\u9879"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"\u53d8\u91cf"}),(0,n.jsx)(d.th,{children:"\u63cf\u8ff0"}),(0,n.jsx)(d.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_ENABLE_SDES_SRTP"})}),(0,n.jsx)(d.td,{children:"\u542f\u7528 SDES srtp"}),(0,n.jsx)(d.td,{children:"0"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_SIP_KEEP_ALIVE_METHOD"})}),(0,n.jsx)(d.td,{children:"\u4fdd\u6301\u8fde\u63a5\u7684\u65b9\u6cd5"}),(0,n.jsx)(d.td,{children:"OPTIONS"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_HEALTH_CHECK_SIP_URI"})}),(0,n.jsx)(d.td,{children:"\u5065\u5eb7\u68c0\u67e5\u6269\u5c55"}),(0,n.jsx)(d.td,{})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_HEALTH_CHECK_INTERVAL"})}),(0,n.jsx)(d.td,{children:"\u5065\u5eb7\u68c0\u67e5\u95f4\u9694"}),(0,n.jsx)(d.td,{children:"300000"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_XMPP_USER"})}),(0,n.jsx)(d.td,{children:"Jigasi MUC \u5ba2\u6237\u7aef\u8fde\u63a5\u7684 XMPP \u7528\u6237"}),(0,n.jsx)(d.td,{children:"jigasi"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_XMPP_PASSWORD"})}),(0,n.jsx)(d.td,{children:"Jigasi MUC \u5ba2\u6237\u7aef\u8fde\u63a5\u7684 XMPP \u5bc6\u7801"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"<unset>"})})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_BREWERY_MUC"})}),(0,n.jsx)(d.td,{children:"Jigasi \u6c60\u7684 MUC \u540d\u79f0"}),(0,n.jsx)(d.td,{children:"jigasibrewery"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_PORT_MIN"})}),(0,n.jsx)(d.td,{children:"Jigasi \u4f7f\u7528\u7684\u5a92\u4f53\u6700\u5c0f\u7aef\u53e3"}),(0,n.jsx)(d.td,{children:"20000"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"JIGASI_PORT_MAX"})}),(0,n.jsx)(d.td,{children:"Jigasi \u4f7f\u7528\u7684\u5a92\u4f53\u6700\u5927\u7aef\u53e3"}),(0,n.jsx)(d.td,{children:"20050"})]})]})]}),"\n",(0,n.jsx)(d.h3,{id:"\u5728-nat-\u6216\u5c40\u57df\u7f51\u73af\u5883\u4e2d\u8fd0\u884c",children:"\u5728 NAT \u6216\u5c40\u57df\u7f51\u73af\u5883\u4e2d\u8fd0\u884c"}),"\n",(0,n.jsxs)(d.p,{children:["\u5728\u5c40\u57df\u7f51\u73af\u5883\u4e2d\u8fd0\u884c\uff0c\u6216\u901a\u8fc7 NAT \u5728\u516c\u5171\u4e92\u8054\u7f51\u8fd0\u884c\u65f6\uff0c\u5e94\u8bbe\u7f6e ",(0,n.jsx)(d.code,{children:"JVB_ADVERTISE_IPS"})," \u73af\u5883\u53d8\u91cf\u3002\u6b64\u53d8\u91cf\u5141\u8bb8\u63a7\u5236 JVB \u5c06\u7528\u4e8e WebRTC \u5a92\u4f53\u6d41\u91cf\u7684 IP \u5730\u5740\u3002\u65e0\u8bba\u662f\u5426\u4f7f\u7528\u53cd\u5411\u4ee3\u7406\uff0c\u90fd\u5fc5\u987b\u8bbe\u7f6e\u5b83\uff0c\u56e0\u4e3a\u5b83\u662f\u63a5\u6536\u5a92\u4f53\uff08\u97f3\u9891/\u89c6\u9891\uff09\u7684 IP \u5730\u5740\uff0c\u800c\u4e0d\u662f HTTP \u6d41\u91cf\uff0c\u56e0\u6b64\u5b83\u4e0e\u53cd\u5411\u4ee3\u7406\u65e0\u5173\u3002"]}),"\n",(0,n.jsx)(d.admonition,{type:"note",children:(0,n.jsxs)(d.p,{children:["\u6b64\u53d8\u91cf\u4ee5\u524d\u79f0\u4e3a ",(0,n.jsx)(d.code,{children:"DOCKER_HOST_ADDRESS"}),"\uff0c\u4f46\u4e3a\u4e86\u6e05\u6670\u8d77\u89c1\uff0c\u5b83\u5df2\u88ab\u91cd\u547d\u540d\u4ee5\u652f\u6301 IP \u5217\u8868\u3002"]})}),"\n",(0,n.jsx)(d.p,{children:"\u5982\u679c\u60a8\u7684\u7528\u6237\u662f\u901a\u8fc7\u4e92\u8054\u7f51\uff08\u800c\u4e0d\u662f\u901a\u8fc7\u5c40\u57df\u7f51\uff09\u8bbf\u95ee\u7684\uff0c\u8fd9\u901a\u5e38\u662f\u60a8\u7684\u516c\u5171 IP \u5730\u5740\u3002\u5982\u679c\u672a\u6b63\u786e\u8bbe\u7f6e\u6b64\u9879\uff0c\u5f53\u8d85\u8fc7\u4e24\u540d\u7528\u6237\u52a0\u5165\u4f1a\u8bae\u65f6\uff0c\u901a\u8bdd\u5c06\u5d29\u6e83\u3002"}),"\n",(0,n.jsxs)(d.p,{children:["\u5c1d\u8bd5\u901a\u8fc7 ",(0,n.jsx)(d.a,{href:"https://en.wikipedia.org/wiki/STUN",children:"STUN"})," \u53d1\u73b0\u516c\u5171 IP \u5730\u5740\u3002\u53ef\u4ee5\u4f7f\u7528 ",(0,n.jsx)(d.code,{children:"JVB_STUN_SERVERS"})," \u9009\u9879\u6307\u5b9a STUN \u670d\u52a1\u5668\u3002"]}),"\n",(0,n.jsx)(d.admonition,{type:"note",children:(0,n.jsxs)(d.p,{children:["\u7531\u4e8e\u5f53\u524d\u5728 Debian \u4ed3\u5e93\u4e2d\u7684 Docker \u7248\u672c\uff0820.10.5\uff09\u4e2d\u7684\u4e00\u4e2a bug\uff0c",(0,n.jsx)(d.a,{href:"https://forums.docker.com/t/docker-doesnt-open-ipv6-ports/106201/2",children:"Docker \u4e0d\u4f1a\u76d1\u542c IPv6 \u7aef\u53e3"}),"\uff0c\u56e0\u6b64\u5bf9\u4e8e\u8be5\u7ec4\u5408\uff0c\u60a8\u9700\u8981 ",(0,n.jsx)(d.a,{href:"https://docs.docker.com/engine/install/debian/",children:"\u624b\u52a8\u83b7\u53d6\u6700\u65b0\u7248\u672c"}),"\u3002"]})}),"\n",(0,n.jsx)(d.h4,{id:"\u62c6\u5206\u89c6\u56fesplit-horizon",children:"\u62c6\u5206\u89c6\u56fe(Split horizon)"}),"\n",(0,n.jsx)(d.p,{children:"\u5982\u679c\u60a8\u5728\u62c6\u5206\u89c6\u56fe\u73af\u5883\u4e2d\u8fd0\u884c\uff08\u5c40\u57df\u7f51\u5185\u90e8\u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u672c\u5730 IP\uff0c\u800c\u5176\u4ed6\u5ba2\u6237\u7aef\u8fde\u63a5\u5230\u516c\u5171 IP\uff09\uff0c\u53ef\u4ee5\u901a\u8fc7\u7528\u9017\u53f7\u5206\u9694\u6765\u6307\u5b9a\u591a\u4e2a\u5e7f\u544a IP\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{children:"JVB_ADVERTISE_IPS=192.168.1.1,1.2.3.4\n"})}),"\n",(0,n.jsx)(d.h4,{id:"\u79bb\u7ebf--\u9694\u79bb\u5b89\u88c5",children:"\u79bb\u7ebf / \u9694\u79bb\u5b89\u88c5"}),"\n",(0,n.jsx)(d.p,{children:"\u5982\u679c\u60a8\u7684\u8bbe\u7f6e\u65e0\u6cd5\u8bbf\u95ee\u4e92\u8054\u7f51\uff0c\u5219\u9700\u8981\u5728 JVB \u4e0a\u7981\u7528 STUN\uff0c\u56e0\u4e3a\u53d1\u73b0\u5176\u81ea\u8eab IP \u5730\u5740\u5c06\u5931\u8d25\uff0c\u4f46\u5728\u6b64\u7c7b\u73af\u5883\u4e2d\u4e0d\u9700\u8981\u6b64\u64cd\u4f5c\u3002"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{children:"JVB_DISABLE_STUN=true\n"})}),"\n",(0,n.jsx)(d.h2,{id:"\u8bbf\u95ee\u670d\u52a1\u5668\u65e5\u5fd7",children:"\u8bbf\u95ee\u670d\u52a1\u5668\u65e5\u5fd7"}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.code,{children:"docker-jitsi-meet"})," \u7684\u9ed8\u8ba4\u884c\u4e3a\u662f\u5c06\u65e5\u5fd7\u8f93\u51fa\u5230 ",(0,n.jsx)(d.code,{children:"stdout"}),"\u3002"]}),"\n",(0,n.jsxs)(d.p,{children:["\u867d\u7136\u65e5\u5fd7\u88ab\u53d1\u9001\u5230 ",(0,n.jsx)(d.code,{children:"stdout"}),"\uff0c\u4f46\u5b83\u4eec\u5e76\u672a\u4e22\u5931\uff1a\u9664\u975e\u914d\u7f6e\u4e3a\u4e22\u5f03\u6240\u6709\u65e5\u5fd7\uff0c\u5426\u5219 Docker \u4f1a\u4fdd\u7559\u8fd9\u4e9b\u65e5\u5fd7\u4f9b\u5c06\u6765\u68c0\u7d22\u548c\u5904\u7406\u3002"]}),"\n",(0,n.jsx)(d.p,{children:"\u5982\u679c\u9700\u8981\u8bbf\u95ee\u5bb9\u5668\u7684\u65e5\u5fd7\uff0c\u6709\u591a\u79cd\u65b9\u6cd5\u53ef\u4f9b\u9009\u62e9\u3002\u4ee5\u4e0b\u662f\u4e3b\u8981\u65b9\u6cd5\uff1a"}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:["\u901a\u8fc7\u547d\u4ee4\u884c\u8fd0\u884c ",(0,n.jsx)(d.code,{children:"docker compose logs -t -f <service_name>"}),"\uff0c\u5176\u4e2d ",(0,n.jsx)(d.code,{children:"<service_name>"})," \u662f ",(0,n.jsx)(d.code,{children:"web"}),"\u3001",(0,n.jsx)(d.code,{children:"prosody"}),"\u3001",(0,n.jsx)(d.code,{children:"jvb"}),"\u3001",(0,n.jsx)(d.code,{children:"jicofo"})," \u4e2d\u7684\u4e00\u4e2a\u3002\u6b64\u547d\u4ee4\u5c06\u65e5\u5fd7\u8f93\u51fa\u5230 ",(0,n.jsx)(d.code,{children:"stdout"}),"\uff0c\u5e76\u5e26\u6709\u65f6\u95f4\u6233\u3002"]}),"\n",(0,n.jsxs)(d.li,{children:["\u4f7f\u7528\u6807\u51c6\u7684 ",(0,n.jsx)(d.a,{href:"https://docs.docker.com/config/containers/logging/configure/",children:"Docker \u65e5\u5fd7\u9a71\u52a8\u7a0b\u5e8f"})," \u5c06\u65e5\u5fd7\u91cd\u5b9a\u5411\u5230\u6240\u9700\u76ee\u6807\uff08\u4f8b\u5982 ",(0,n.jsx)(d.code,{children:"syslog"})," \u6216 ",(0,n.jsx)(d.code,{children:"splunk"}),"\uff09\u3002"]}),"\n",(0,n.jsxs)(d.li,{children:["\u5728 ",(0,n.jsx)(d.a,{href:"https://hub.docker.com/search?q=",children:"Docker Hub"})," \u641c\u7d22\u7b2c\u4e09\u65b9 ",(0,n.jsx)(d.a,{href:"https://docs.docker.com/config/containers/logging/plugins/",children:"Docker \u65e5\u5fd7\u9a71\u52a8\u63d2\u4ef6"}),"\u3002"]}),"\n",(0,n.jsxs)(d.li,{children:["\u6216\u8005\uff0c\u5982\u679c\u6709\u975e\u5e38\u5177\u4f53\u7684\u9700\u6c42\uff0c\u53ef\u4ee5",(0,n.jsx)(d.a,{href:"https://docs.docker.com/engine/extend/plugins_logging/",children:"\u7f16\u5199\u81ea\u5df1\u7684\u65e5\u5fd7\u9a71\u52a8\u63d2\u4ef6"}),"\u3002"]}),"\n"]}),"\n",(0,n.jsxs)(d.p,{children:["\u4f8b\u5982\uff0c\u5982\u679c\u5e0c\u671b\u5c06\u4e0e\u67d0\u4e2a ",(0,n.jsx)(d.code,{children:"<service_name>"})," \u76f8\u5173\u7684\u6240\u6709\u65e5\u5fd7\u4ee5 ",(0,n.jsx)(d.code,{children:"json"})," \u683c\u5f0f\u8f93\u51fa\u5230 ",(0,n.jsx)(d.code,{children:"/var/log/jitsi/<service_name>"}),"\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,n.jsx)(d.a,{href:"https://github.com/deep-compute/docker-file-log-driver",children:"docker-file-log-driver"}),"\uff0c\u5e76\u5728 ",(0,n.jsx)(d.code,{children:"docker-compose.yml"})," \u6587\u4ef6\u4e2d\u4e3a\u6240\u9009 ",(0,n.jsx)(d.code,{children:"<service_name>"})," \u6dfb\u52a0\u4ee5\u4e0b\u914d\u7f6e\u5757\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-yaml",children:'services:\n    <service_name>:\n        image: ...\n        ...\n        logging:\n            driver: file-log-driver\n            options:\n                fpath: "/jitsi/<service_name>.log"\n'})}),"\n",(0,n.jsxs)(d.p,{children:["\u5982\u679c\u53ea\u60f3\u4ee5 ",(0,n.jsx)(d.code,{children:"json"})," \u683c\u5f0f\u663e\u793a\u65e5\u5fd7\u7684 ",(0,n.jsx)(d.code,{children:"message"})," \u90e8\u5206\uff0c\u53ea\u9700\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff08\u5047\u8bbe ",(0,n.jsx)(d.code,{children:"fpath"})," \u88ab\u8bbe\u7f6e\u4e3a ",(0,n.jsx)(d.code,{children:"/jitsi/jvb.log"}),"\uff09\uff0c\u4f7f\u7528 ",(0,n.jsx)(d.code,{children:"jq"})," \u63d0\u53d6\u65e5\u5fd7\u4e2d\u7684\u76f8\u5173\u90e8\u5206\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"sudo cat /var/log/jitsi/jvb.log | jq -r '.msg' | jq -r '.message'\n"})}),"\n",(0,n.jsx)(d.h2,{id:"\u6784\u5efa\u8bf4\u660e",children:"\u6784\u5efa\u8bf4\u660e"}),"\n",(0,n.jsx)(d.p,{children:"\u6784\u5efa\u6620\u50cf\u4f7f\u60a8\u80fd\u591f\u5355\u72ec\u7f16\u8f91\u6bcf\u4e2a\u6620\u50cf\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4ece\u800c\u4e3a\u90e8\u7f72\u63d0\u4f9b\u66f4\u591a\u81ea\u5b9a\u4e49\u9009\u9879\u3002"}),"\n",(0,n.jsxs)(d.p,{children:["\u53ef\u4ee5\u901a\u8fc7\u5728\u4e3b\u4ed3\u5e93\u6587\u4ef6\u5939\u4e2d\u8fd0\u884c ",(0,n.jsx)(d.code,{children:"make"})," \u547d\u4ee4\u6765\u6784\u5efa Docker \u6620\u50cf\u3002\u5982\u679c\u9700\u8981\u8986\u76d6\u73b0\u6709\u7684\u8fdc\u7a0b\u6e90\u6620\u50cf\uff0c\u4f7f\u7528 ",(0,n.jsx)(d.code,{children:"FORCE_REBUILD=1 make"}),"\u3002"]}),"\n",(0,n.jsxs)(d.p,{children:["\u5982\u679c\u5904\u4e8e\u4e0d\u7a33\u5b9a\u5206\u652f\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,n.jsx)(d.code,{children:"FORCE_REBUILD=1 JITSI_RELEASE=unstable make"})," \u6784\u5efa\u6620\u50cf\u3002"]}),"\n",(0,n.jsxs)(d.p,{children:["\u73b0\u5728\u53ef\u4ee5\u50cf\u5f80\u5e38\u4e00\u6837\u8fd0\u884c ",(0,n.jsx)(d.code,{children:"docker compose up"}),"\u3002"]}),"\n",(0,n.jsx)(d.h2,{id:"\u5728\u53cd\u5411\u4ee3\u7406\u540e\u8fd0\u884c",children:"\u5728\u53cd\u5411\u4ee3\u7406\u540e\u8fd0\u884c"}),"\n",(0,n.jsx)(d.p,{children:"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u8bbe\u7f6e\u4f7f\u7528 WebSocket \u8fde\u63a5\u6765\u5904\u7406\u4e24\u4e2a\u6838\u5fc3\u7ec4\u4ef6\uff1a"}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsx)(d.li,{children:"\u4fe1\u4ee4 - Signalling\uff08XMPP\uff09"}),"\n",(0,n.jsx)(d.li,{children:"\u6865\u63a5\u901a\u9053 - Bridge channel \uff08Colibri\uff09"}),"\n"]}),"\n",(0,n.jsx)(d.p,{children:"\u7531\u4e8e WebSocket \u7684\u9010\u8df3\u6027\u8d28(hop-by-hop nature of WebSockets)\uff0c\u53cd\u5411\u4ee3\u7406\u5fc5\u987b\u6b63\u786e\u7ec8\u6b62\u5e76\u8f6c\u53d1 WebSocket \u8fde\u63a5\u3002\u4ee5\u4e0b\u4e24\u4e2a\u8def\u5f84\u9700\u8981\u8fdb\u884c\u5904\u7406\uff1a"}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsx)(d.li,{children:"/xmpp-websocket"}),"\n",(0,n.jsx)(d.li,{children:"/colibri-ws"}),"\n"]}),"\n",(0,n.jsx)(d.p,{children:"\u4f7f\u7528 nginx\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u914d\u7f6e\u7247\u6bb5\u8f6c\u53d1\u8fd9\u4e9b\u8def\u5f84\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-nginx",children:'location /xmpp-websocket {\n    proxy_pass https://localhost:8443;\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection "upgrade";\n}\nlocation /colibri-ws {\n    proxy_pass https://localhost:8443;\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection "upgrade";\n}\n'})}),"\n",(0,n.jsxs)(d.p,{children:["\u6b64\u5916\uff0c\u8fd8\u9700\u8981\u4e3a ",(0,n.jsx)(d.code,{children:"/http-bind"})," \u914d\u7f6e\u4e00\u4e2a\u8def\u5f84\uff0c\u56e0\u4e3a\u79fb\u52a8\u5ba2\u6237\u7aef\u4ecd\u7136\u4f7f\u7528\u57fa\u4e8e BOSH \u7684 XMPP\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-nginx",children:'location /http-bind {\n    proxy_pass https://localhost:8443;\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection "upgrade";\n}\n'})}),"\n",(0,n.jsxs)(d.p,{children:["\u4f7f\u7528 Apache\uff0c\u9700\u542f\u7528 ",(0,n.jsx)(d.code,{children:"mod_proxy"})," \u548c ",(0,n.jsx)(d.code,{children:"mod_proxy_wstunnel"}),"\uff0c\u5e76\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u7247\u6bb5\u8f6c\u53d1\u8fd9\u4e9b\u8def\u5f84\uff1a"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-apache",children:'<IfModule mod_proxy.c>\n    <IfModule mod_proxy_wstunnel.c>\n        ProxyTimeout 900\n        <Location "/xmpp-websocket">\n            ProxyPass "wss://localhost:8443/xmpp-websocket"\n        </Location>\n        <Location "/colibri-ws/">\n            ProxyPass "wss://localhost:8443/colibri-ws/"\n        </Location>\n        <Location "/http-bind">\n            ProxyPass "http://localhost:8443/http-bind"\n        </Location>\n    </IfModule>\n</IfModule>\n'})}),"\n",(0,n.jsxs)(d.p,{children:["\u5176\u4e2d ",(0,n.jsx)(d.code,{children:"https://localhost:8443/"})," \u662f Web \u670d\u52a1\u7684\u5165\u53e3 URL\u3002"]}),"\n",(0,n.jsx)(d.h3,{id:"\u7981\u7528-websocket-\u8fde\u63a5",children:"\u7981\u7528 WebSocket \u8fde\u63a5"}),"\n",(0,n.jsx)(d.admonition,{type:"note",children:(0,n.jsx)(d.p,{children:"\u8fd9\u4e0d\u662f\u63a8\u8350\u7684\u8bbe\u7f6e\u3002"})}),"\n",(0,n.jsx)(d.p,{children:"\u5982\u679c\u4e0d\u80fd\u4f7f\u7528 WebSocket\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4ee5\u4e0b\u73af\u5883\u53d8\u91cf\u4ee5\u56de\u9000\u5230 HTTP \u8f6e\u8be2\u548c WebRTC \u6570\u636e\u901a\u9053\uff1a"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-bash",children:"ENABLE_SCTP=1\nENABLE_COLIBRI_WEBSOCKET=0\nENABLE_XMPP_WEBSOCKET=0\n"})})]})}function x(e={}){const{wrapper:d}={...(0,i.R)(),...e.components};return d?(0,n.jsx)(d,{...e,children:(0,n.jsx)(j,{...e})}):j(e)}},5960:(e,d,s)=>{s.d(d,{A:()=>n});const n=s.p+"assets/images/docker-jitsi-meet-319b2b6f7f575a4a6d2e9b51b84419c4.png"},8453:(e,d,s)=>{s.d(d,{R:()=>r,x:()=>l});var n=s(6540);const i={},c=n.createContext(i);function r(e){const d=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(d):{...d,...e}}),[d,e])}function l(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(c.Provider,{value:d},e.children)}}}]);